{"searchDocs":[{"title":"ğŸ‘ ä¸ºæ‚¨çš„åº”ç”¨ç¨‹åºæ·»åŠ å…¨æ–‡æœç´¢","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/add-to-app/add-to-app","content":"","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"åœ¨ Node.js ä¸­ä½¿ç”¨èšåˆç®¡é“â€‹","type":1,"pageTitle":"ğŸ‘ ä¸ºæ‚¨çš„åº”ç”¨ç¨‹åºæ·»åŠ å…¨æ–‡æœç´¢","url":"/search-lab/zh/docs/add-to-app/add-to-app#åœ¨-nodejs-ä¸­ä½¿ç”¨èšåˆç®¡é“","content":" è¦åœ¨ Node.js ä¸­ä½¿ç”¨èšåˆç®¡é“ï¼Œæ‚¨éœ€è¦åœ¨é›†åˆå¯¹è±¡ä¸Šä½¿ç”¨ aggregate æ–¹æ³•ã€‚è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªé˜¶æ®µæ•°ç»„ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ¸¸æ ‡ã€‚ç„¶åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ¸¸æ ‡è¿­ä»£ç»“æœï¼Œæˆ–è€…ä½¿ç”¨ toArray æ–¹æ³•å°†ç»“æœè·å–ä¸ºä¸€ä¸ªæ•°ç»„ã€‚  const documents = await collection.aggregate(aggregationPipelines).toArray();   ç°åœ¨ï¼Œæ‚¨å·²ç»äº†è§£äº†ä¸ºåº”ç”¨ç¨‹åºæ·»åŠ å…¨æ–‡æœç´¢åŠŸèƒ½æ‰€éœ€çš„ä¸€åˆ‡ã€‚  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"å°†æœç´¢æ·»åŠ åˆ°å›¾ä¹¦é¦†åº”ç”¨ç¨‹åºâ€‹","type":1,"pageTitle":"ğŸ‘ ä¸ºæ‚¨çš„åº”ç”¨ç¨‹åºæ·»åŠ å…¨æ–‡æœç´¢","url":"/search-lab/zh/docs/add-to-app/add-to-app#å°†æœç´¢æ·»åŠ åˆ°å›¾ä¹¦é¦†åº”ç”¨ç¨‹åº","content":" æ‰“å¼€ server/src/controllers/books.ts æ–‡ä»¶ä¸­çš„ä»£ç ã€‚åœ¨å…¶ä¸­ï¼ŒæŸ¥æ‰¾ searchBooks å‡½æ•°ã€‚  ç°åœ¨ï¼Œå®ƒä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æŸ¥è¯¢æ•°æ®åº“ã€‚  public async searchBooks(query: string): Promise&lt;Book[]&gt; { const books = await collections?.books?.find({ title: {$regex: new RegExp(query, &quot;i&quot;)} }).toArray(); return books; }   è™½ç„¶è¿™æ®µä»£ç åœ¨æŸç§ç¨‹åº¦ä¸Šæ˜¯æœ‰æ•ˆçš„ï¼Œä½†å®ƒå¹¶ä¸æ˜¯æœ€ä¼˜çš„ã€‚éšç€æ•°æ®é›†çš„å¢é•¿ï¼Œè¿™ä¸ªæŸ¥è¯¢çš„æ€§èƒ½ä¼šä¸‹é™ï¼Œå› ä¸ºå®ƒå°†ä¸å¾—ä¸æ‰«ææ•´ä¸ªé›†åˆã€‚æ‚¨æ— æ³•ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æŸ¥è¯¢ç´¢å¼•ã€‚æ­¤å¤–ï¼Œè¯¥æŸ¥è¯¢ä»…åŒ¹é…æ ‡é¢˜ï¼Œå¹¶ä¸”ä»…åŒ¹é…ç¡®åˆ‡çš„å­—ç¬¦åºåˆ—ã€‚  å°†æ­¤ä»£ç æ›´æ”¹ä¸ºä½¿ç”¨æœç´¢ç´¢å¼•ã€‚æ‚¨éœ€è¦åœ¨èšåˆç®¡é“ä¸­ä½¿ç”¨ $search é˜¶æ®µã€‚è®©æ‚¨çš„æœç´¢è¦†ç›–æ ‡é¢˜ã€ä½œè€…å§“åå’Œç±»å‹æ•°ç»„ã€‚  è¿™æ®µä»£ç å°†æ”¾åœ¨ server/src/controllers/books.ts æ–‡ä»¶ä¸­çš„ searchBooks å‡½æ•°ä¸­ã€‚  ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹ç­”æ¡ˆ public async searchBooks(query: string): Promise&lt;Book[]&gt; { const aggregationPipeline = [ { $search: { index: 'fulltextsearch', text: { query, path: ['title', 'authors.name', 'genres'] } } } ]; const books = await collections?.books?.aggregate(aggregationPipeline).toArray() as Book[]; return books; }   åœ¨åº”ç”¨ç¨‹åºä¸­å°è¯•ä¸€ä¸‹ï¼Œçœ‹çœ‹æ‚¨å¾—åˆ°çš„ç»“æœã€‚æ‚¨åº”è¯¥ä¼šçœ‹åˆ°ç»“æœæ¯”ä¹‹å‰æ›´åŠ ç›¸å…³ã€‚ ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ğŸ‘ æ„å»ºæœç´¢æŸ¥è¯¢","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/aggregations/search-stage","content":"","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"åœ¨ Atlas UI ä¸­è¿›è¡Œèšåˆâ€‹","type":1,"pageTitle":"ğŸ‘ æ„å»ºæœç´¢æŸ¥è¯¢","url":"/search-lab/zh/docs/aggregations/search-stage#åœ¨-atlas-ui-ä¸­è¿›è¡Œèšåˆ","content":" å¯¼èˆªåˆ°æ•°æ®åº“éƒ¨ç½²çš„ Collections é€‰é¡¹å¡ï¼Œé€‰æ‹© books é›†åˆï¼Œç„¶åä»é›†åˆè¯¦æƒ…ä¸‹çš„å¯¼èˆªæ ä¸­å¯¼èˆªåˆ° Aggregation é€‰é¡¹å¡ã€‚    æç¤º æ­¤æ—¶ Atlas UI å¯èƒ½ä¼šæ˜¾å¾—æœ‰ç‚¹æ‹¥æŒ¤ã€‚ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ Compass ä¸­çš„èšåˆç®¡é“æ„å»ºå™¨æ¥è·å¾—æ›´å¥½çš„ä½“éªŒã€‚  ç‚¹å‡» Add Stage æŒ‰é’®ï¼Œå¹¶åœ¨ select è¾“å…¥æ¡†ä¸­è¾“å…¥ $searchã€‚    ä¸º $search é˜¶æ®µæ·»åŠ ä»¥ä¸‹ä»£ç ã€‚  { index: &quot;fulltextsearch&quot;, text: { query: &quot;cooking&quot;, path: [&quot;title&quot;] } }   è¯¥é˜¶æ®µä½¿ç”¨ &quot;fulltextsearch&quot; ç´¢å¼•ã€‚å¦‚æœç´¢å¼•æ˜¯ &quot;default&quot;ï¼Œä½ ä¸éœ€è¦æ˜¾å¼å®šä¹‰ç´¢å¼•ï¼Œä½†ä¸ºäº†æ¸…æ™°èµ·è§ï¼Œä½ å¯ä»¥ä¿ç•™å®ƒã€‚  text æ“ä½œç¬¦å°†åœ¨ title å­—æ®µä¸­æœç´¢ &quot;cooking&quot;ã€‚ä½ åº”è¯¥åœ¨å³ä¾§çœ‹åˆ°è¿”å›çš„æ–‡æ¡£é›†åˆã€‚  ç‚¹å‡» Add Stage æŒ‰é’®ï¼Œå‘ä¸‹æ»šåŠ¨å¹¶é€‰æ‹© $project ä½œä¸ºç¬¬ 2 é˜¶æ®µã€‚    ä¸º $project é˜¶æ®µæ·»åŠ ä»¥ä¸‹å®ç°ä»£ç æ¥è¿‡æ»¤è¿”å›çš„å­—æ®µã€‚  { title: 1, authors: 1, genres: 1, pages: 1 }   æ­¤æ—¶ï¼Œä½ åº”è¯¥çœ‹åˆ°ä¸ä¸Šä¸€èŠ‚ç›¸ä¼¼çš„ç»“æœï¼Œå› ä¸ºè¿™å‡ ä¹æ˜¯ç›¸åŒçš„æŸ¥è¯¢ã€‚ ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ğŸ¦¸ åˆ›å»ºç´¢å¼•","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/facet/create-index","content":"ğŸ¦¸ åˆ›å»ºç´¢å¼• ä¸ºäº†ä½¿ç”¨åˆ†é¢æœç´¢ï¼Œä½ éœ€è¦åˆ›å»ºé€‚å½“çš„ç´¢å¼•ã€‚ ä½¿ç”¨ JSON ç¼–è¾‘å™¨åˆ›å»ºä¸€ä¸ªæ–°çš„æœç´¢ç´¢å¼•ã€‚ä½¿ç”¨ä»¥ä¸‹ JSON ä½œä¸ºä½ çš„ç´¢å¼•å®šä¹‰ã€‚ { &quot;mappings&quot;: { &quot;dynamic&quot;: false, &quot;fields&quot;: { &quot;genres&quot;: { &quot;type&quot;: &quot;stringFacet&quot; }, &quot;year&quot;: { &quot;type&quot;: &quot;number&quot; } } } } åƒä¹‹å‰çš„ç»ƒä¹ é‚£æ ·åˆ›å»ºä¸€ä¸ªæ–°ç´¢å¼•ã€‚ ä¸€æ—¦ç´¢å¼•å‡†å¤‡å¥½äº†ï¼Œä½ å¯ä»¥ç»§ç»­ä¸‹ä¸€æ­¥ã€‚","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"ğŸ¦¸ åˆ†é¢ä»‹ç»","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/facet/intro","content":"ğŸ¦¸ åˆ†é¢ä»‹ç» åˆ†é¢æ˜¯ä¸€ç§åŸºäºå…±åŒå€¼å°†æ–‡æ¡£åˆ†ç»„çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªç”µå½±åˆ—è¡¨ï¼Œä½ å¯èƒ½æƒ³æŒ‰ç±»å‹å¯¹å®ƒä»¬è¿›è¡Œåˆ†ç»„ã€‚ç„¶åä½ å¯ä»¥ä½¿ç”¨åˆ†é¢æ¥è¿‡æ»¤ç»“æœï¼Œåªæ˜¾ç¤ºæŸä¸€ç±»å‹çš„ç”µå½±ã€‚ ä¸€ä¸ªå¸¸è§çš„ç”¨ä¾‹æ˜¯ä½¿ç”¨åˆ†é¢æ¥åˆ›å»ºè¿‡æ»¤å™¨ã€‚ä½ å¯ä»¥åœ¨å¤§å¤šæ•°ç”µå­å•†åŠ¡ç½‘ç«™ä¸Šçœ‹åˆ°è¿™ä¸€ç‚¹ã€‚ä¾‹å¦‚ï¼Œä½ ä¼šçœ‹åˆ°é¡µé¢å·¦ä¾§çš„ä¸€åˆ—ç±»åˆ«ï¼Œæ¯ä¸ªç±»åˆ«æ—è¾¹éƒ½æœ‰ä¸€ä¸ªæ•°å­—ã€‚è¿™ä¸ªæ•°å­—è¡¨ç¤ºè¯¥ç±»åˆ«ä¸­çš„äº§å“æ•°é‡ã€‚ { &quot;facet&quot;: { &quot;operator&quot;: { &quot;range&quot;: { &quot;path&quot;: &quot;year&quot;, &quot;gte&quot;: 2000, &quot;lte&quot;: 2015 } }, &quot;facets&quot;: { &quot;genresFacet&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;path&quot;: &quot;genres&quot; } } } } ","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"ğŸ“˜ å…¨æ–‡æœç´¢","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/full-text-search","content":"","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"ä»€ä¹ˆæ˜¯ Atlas Searchï¼Ÿâ€‹","type":1,"pageTitle":"ğŸ“˜ å…¨æ–‡æœç´¢","url":"/search-lab/zh/docs/full-text-search#ä»€ä¹ˆæ˜¯-atlas-search","content":" Atlas Search ä¸å…¶ä»– Atlas æœåŠ¡é›†æˆï¼Œä¸ºä½ æä¾›å®Œå…¨æ‰˜ç®¡çš„æœç´¢æœåŠ¡ã€‚å®ƒæ„å»ºäºé¢†å…ˆçš„å¼€æºæœç´¢å¼•æ“åº“ Lucene ä¹‹ä¸Šï¼ŒåŒæ—¶ä¹Ÿå»ºç«‹åœ¨ MongoDB çš„èšåˆæ¡†æ¶ä¹‹ä¸Šï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥ä½¿ç”¨ç›¸åŒçš„æŸ¥è¯¢è¯­è¨€æ¥æŸ¥è¯¢å’Œæœç´¢ä½ çš„æ•°æ®ã€‚  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"Atlas Search çš„ä¼˜åŠ¿â€‹","type":1,"pageTitle":"ğŸ“˜ å…¨æ–‡æœç´¢","url":"/search-lab/zh/docs/full-text-search#atlas-search-çš„ä¼˜åŠ¿","content":" ä½ å·²ç»çœ‹åˆ°äº†ä½¿ç”¨ MongoDB æŸ¥è¯¢è¯­è¨€æŸ¥è¯¢æ•°æ®çš„å±€é™æ€§ã€‚Atlas Search ä¸ºä½ æä¾›äº†å‡ ä¸ªå¥½å¤„ï¼š  å…¨æ–‡æœç´¢ - Atlas Search ä¸ºä½ æä¾›å…¨æ–‡æœç´¢åŠŸèƒ½ï¼ŒåŒ…æ‹¬è¯å¹²æå–ã€åœç”¨è¯å’ŒåŒä¹‰è¯ã€‚è¯„åˆ† - Atlas Search ä¸ºä½ æä¾›è¯„åˆ†ç³»ç»Ÿï¼Œå…è®¸ä½ æ ¹æ®ç›¸å…³æ€§å¯¹æœç´¢ç»“æœè¿›è¡Œæ’åºã€‚è¯­è¨€æ”¯æŒ - Atlas Search å¼€ç®±å³ç”¨åœ°æ”¯æŒå¤šç§è¯­è¨€ã€‚è‡ªåŠ¨è¡¥å…¨ - Atlas Search ä¸ºä½ æä¾›æœç´¢å†…å®¹è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ã€‚é«˜äº®æ˜¾ç¤º - Atlas Search ä¸ºä½ æä¾›é«˜äº®æ˜¾ç¤ºåŠŸèƒ½ã€‚ ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ğŸ¦¸ ä½¿ç”¨åˆ†é¢æŸ¥è¯¢","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/facet/query","content":"ğŸ¦¸ ä½¿ç”¨åˆ†é¢æŸ¥è¯¢ ç°åœ¨ä½ çš„ç´¢å¼•å·²ç»åˆ°ä½ï¼Œä½ å¯ä»¥ä½¿ç”¨å®ƒè¿›è¡ŒæŸ¥è¯¢äº†ã€‚ ä½ éœ€è¦ä½¿ç”¨ $searchMeta èšåˆé˜¶æ®µæ¥æŸ¥è¯¢ä½ çš„æ•°æ®ã€‚ä½ å¯ä»¥åœ¨ Atlas Search æ–‡æ¡£ ä¸­æ‰¾åˆ°æ›´å¤šå…³äºè¿™ä¸ªé˜¶æ®µåŠå…¶ä½¿ç”¨æ–¹æ³•çš„ä¿¡æ¯ã€‚ ç°åœ¨ä½ å·²ç»åœ¨ genres å’Œ year å­—æ®µä¸Šåˆ›å»ºäº†ç´¢å¼•ï¼Œå°è¯•åˆ›å»ºä¸€ä¸ªæŸ¥è¯¢ï¼Œè¿”å›2000å¹´ä»£å‡ºç‰ˆçš„æ¯ä¸ªç±»å‹çš„ä¹¦ç±æ•°é‡ã€‚ ç‚¹å‡»æŸ¥çœ‹ç­”æ¡ˆ { $searchMeta: { &quot;index&quot;: &quot;facetsIndexName&quot;, &quot;facet&quot;: { &quot;operator&quot;: { &quot;range&quot;: { &quot;path&quot;: &quot;year&quot;, &quot;gte&quot;: 2000, &quot;lte&quot;: 2010 } }, &quot;facets&quot;: { &quot;genresFacet&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;path&quot;: &quot;genres&quot; } } } } } ","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"ğŸ“˜ ä¸ºä»€ä¹ˆé€‰æ‹© Atlas Search","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/full-text-search/why-atlas-search","content":"","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"å¦‚ä½•ä½¿ç”¨ Atlas Searchâ€‹","type":1,"pageTitle":"ğŸ“˜ ä¸ºä»€ä¹ˆé€‰æ‹© Atlas Search","url":"/search-lab/zh/docs/full-text-search/why-atlas-search#å¦‚ä½•ä½¿ç”¨-atlas-search","content":" è¦ä½¿ç”¨ Atlas Searchï¼Œä½ éœ€è¦åˆ›å»ºä¸€ä¸ªæœç´¢ç´¢å¼•ã€‚æœç´¢ç´¢å¼•æ˜¯ä¸€ç§åŒ…å«ä½ æƒ³è¦æœç´¢çš„æ•°æ®å’Œæœç´¢è§„åˆ™çš„æ•°æ®ç»“æ„ã€‚ä½ å¯ä»¥ä½¿ç”¨ Atlas UI æˆ– Atlas API åˆ›å»ºæœç´¢ç´¢å¼•ã€‚  ä¸€æ—¦åˆ›å»ºäº†ç´¢å¼•ï¼Œä½ å°±å¯ä»¥ä½¿ç”¨ MongoDB æŸ¥è¯¢ API æ¥æŸ¥è¯¢æ•°æ®ã€‚è¿™å°†é€šè¿‡èšåˆç®¡é“ä¸­çš„æ–° $search æ“ä½œç¬¦æ¥å®Œæˆã€‚ ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ğŸ“˜ Atlas Search å¦‚ä½•å·¥ä½œ","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/full-text-search/how-search-works","content":"","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"ç®€å•çš„å­—ç¬¦ä¸²æœç´¢â€‹","type":1,"pageTitle":"ğŸ“˜ Atlas Search å¦‚ä½•å·¥ä½œ","url":"/search-lab/zh/docs/full-text-search/how-search-works#ç®€å•çš„å­—ç¬¦ä¸²æœç´¢","content":" å½“ä½ åœ¨æ•°æ®åº“ä¸­ä½¿ç”¨ LIKE æ“ä½œç¬¦æˆ–æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œç®€å•æŸ¥è¯¢æ—¶ï¼Œæ•°æ®åº“å¿…é¡»æ‰«æé›†åˆä¸­çš„æ¯ä¸ªæ–‡æ¡£ä»¥æ‰¾åˆ°åŒ¹é…çš„æ–‡æ¡£ã€‚è¿™æ˜¯ä¸€ä¸ªç¼“æ…¢çš„è¿‡ç¨‹ï¼Œéšç€é›†åˆä¸­æ–‡æ¡£æ•°é‡çš„å¢åŠ ï¼Œå®ƒä¼šå˜å¾—æ›´æ…¢ã€‚    ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"å…¨æ–‡æœç´¢â€‹","type":1,"pageTitle":"ğŸ“˜ Atlas Search å¦‚ä½•å·¥ä½œ","url":"/search-lab/zh/docs/full-text-search/how-search-works#å…¨æ–‡æœç´¢","content":" å…¨æ–‡æœç´¢æ—¨åœ¨æœç´¢å¤§é‡æ–‡æœ¬ã€‚ä¾‹å¦‚ï¼Œæœç´¢å¼•æ“å°†ä½¿ç”¨å…¨æ–‡æœç´¢åœ¨å…¶ç´¢å¼•çš„æ‰€æœ‰ç½‘é¡µä¸­æŸ¥æ‰¾å…³é”®å­—ã€‚è¿™ç§æŠ€æœ¯çš„å…³é”®æ˜¯ç´¢å¼•ã€‚  ç´¢å¼•å¯ä»¥é€šè¿‡ä¸åŒçš„æ–¹å¼å®Œæˆï¼Œå¦‚æ‰¹é‡ç´¢å¼•æˆ–å¢é‡ç´¢å¼•ã€‚ç„¶åï¼Œç´¢å¼•å……å½“ä»»ä½•åŒ¹é…æ–‡æ¡£çš„å¹¿æ³›è¯æ±‡è¡¨ã€‚ç„¶åå¯ä»¥ä½¿ç”¨å„ç§æŠ€æœ¯æ¥æå–æ•°æ®ã€‚å¼€æºæœç´¢åº“ Apache Lucene ä½¿ç”¨å€’æ’ç´¢å¼•æ¥æŸ¥æ‰¾åŒ¹é…çš„é¡¹ç›®ã€‚åœ¨æˆ‘ä»¬çš„å…¨æ–‡æœç´¢ä¸­ï¼Œæ¯ä¸ªè¯æ±‡é“¾æ¥åˆ°åŒ¹é…çš„æ–‡æ¡£é¡¹ã€‚    å¯¹äºå¤§é‡æ•°æ®ï¼Œè¿™ç§æŠ€æœ¯æ¯”å­—ç¬¦ä¸²æœç´¢å¿«å¾—å¤šã€‚  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ç´¢å¼•åˆ›å»ºâ€‹","type":1,"pageTitle":"ğŸ“˜ Atlas Search å¦‚ä½•å·¥ä½œ","url":"/search-lab/zh/docs/full-text-search/how-search-works#ç´¢å¼•åˆ›å»º","content":" ä¸ºäº†å‡†å¤‡ä½ çš„æ•°æ®è¿›è¡Œç´¢å¼•ï¼Œä½ çš„æ•°æ®å°†ç»è¿‡ä¸€ä¸ªå«åšåˆ†è¯çš„è¿‡ç¨‹ã€‚åˆ†è¯æ˜¯å°†æ–‡æœ¬æµåˆ†è§£æˆå•è¯ã€çŸ­è¯­ã€ç¬¦å·æˆ–å…¶ä»–æœ‰æ„ä¹‰å…ƒç´ ï¼ˆç§°ä¸ºæ ‡è®°ï¼‰çš„è¿‡ç¨‹ã€‚è¿™æ˜¯é€šè¿‡ä¸€ç³»åˆ—åˆ†è¯å™¨å®Œæˆçš„ã€‚åˆ†è¯å™¨æ˜¯æœç´¢å¼•æ“çš„æ„å»ºæ¨¡å—ï¼Œå®ƒä»¬è´Ÿè´£ä»æ–‡æœ¬ä¸­ç”Ÿæˆæ ‡è®°ã€‚ç„¶åï¼Œè¿™äº›æ ‡è®°å­˜å‚¨åœ¨ç´¢å¼•ä¸­ã€‚  åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œå®ƒå°†é¦–å…ˆå»é™¤ä»»ä½•å˜éŸ³ç¬¦å·ï¼ˆå­—æ¯ä¸Šæ–¹æˆ–ä¸‹æ–¹çš„æ ‡è®°ï¼Œå¦‚æ³•è¯­ä¸­çš„ Ã©ã€Ã  å’Œ Ã§ï¼‰ã€‚ç„¶åï¼Œæ ¹æ®æ‰€ä½¿ç”¨çš„è¯­è¨€ï¼Œç®—æ³•å°†åˆ é™¤å¡«å……è¯ï¼Œåªä¿ç•™è¯æ±‡çš„è¯å¹²ã€‚è¿™æ ·ï¼Œâ€œto eatâ€ã€â€œeatingâ€å’Œâ€œateâ€éƒ½è¢«å½’ç±»ä¸ºç›¸åŒçš„â€œeatâ€å…³é”®å­—ã€‚ç„¶åï¼Œå®ƒå°†å¤§å°å†™æ›´æ”¹ä¸ºä»…ä½¿ç”¨å¤§å†™æˆ–å°å†™ã€‚ç¡®åˆ‡çš„ç´¢å¼•è¿‡ç¨‹ç”±æ‰€ä½¿ç”¨çš„åˆ†è¯å™¨å†³å®šã€‚    æœ€åï¼Œç´¢å¼•å°†çœ‹èµ·æ¥åƒä½ æ•°æ®ä¸­æ‰€æœ‰æœ‰æ„ä¹‰è¯æ±‡çš„è¯æ±‡è¡¨ã€‚æ¯ä¸ªè¯æ±‡éƒ½å°†é“¾æ¥åˆ°åŒ…å«å®ƒçš„æ–‡æ¡£ã€‚   ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ğŸ“˜ ä¸ºä»€ä¹ˆéœ€è¦æœç´¢","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/full-text-search/why-search","content":"ğŸ“˜ ä¸ºä»€ä¹ˆéœ€è¦æœç´¢ æœç´¢æ˜¯ä¸€ç§å¼ºå¤§çš„å·¥å…·ï¼Œå¯ä»¥ä¸ºä½ çš„ç”¨æˆ·åˆ›é€ æ›´å¥½çš„ä½“éªŒã€‚å®ƒå°†å¸®åŠ©ä»–ä»¬æ›´å¿«ã€æ›´é«˜æ•ˆåœ°æ‰¾åˆ°ä»–ä»¬æ­£åœ¨å¯»æ‰¾çš„å†…å®¹ã€‚å®ƒè¿˜å°†å¸®åŠ©ä»–ä»¬å‘ç°ä»–ä»¬åŸæœ¬ä¸çŸ¥é“çš„å†…å®¹ã€‚ è¶Šæ¥è¶Šå¤šçš„ç”¨æˆ·åœ¨è®¿é—®ç½‘ç«™æ—¶æœŸæœ›æœ‰ç±»ä¼¼ Google çš„æœç´¢ä½“éªŒã€‚ä»–ä»¬å¸Œæœ›èƒ½å¤Ÿåªè¾“å…¥å‡ ä¸ªå•è¯å°±èƒ½è·å–ä»–ä»¬æ­£åœ¨å¯»æ‰¾çš„å†…å®¹ã€‚ä»–ä»¬ä¸å¸Œæœ›ä¸ºäº†æ‰¾åˆ°æ‰€éœ€å†…å®¹è€Œå¿…é¡»æµè§ˆå¤æ‚çš„é¡µé¢å±‚æ¬¡ç»“æ„ã€‚ å¦‚æœä»–ä»¬æ‰¾ä¸åˆ°æ‰€éœ€å†…å®¹ï¼Œä»–ä»¬å°†ç¦»å¼€ä½ çš„ç½‘ç«™å¹¶è½¬åˆ°å…¶ä»–åœ°æ–¹ã€‚è¿™å¯¹äºç»å¸¸åœ¨è·¯ä¸Šçš„ç§»åŠ¨ç”¨æˆ·å°¤å…¶å¦‚æ­¤ï¼Œä»–ä»¬æ²¡æœ‰æ—¶é—´æµè§ˆå¤æ‚çš„é¡µé¢å±‚æ¬¡ç»“æ„ã€‚ ä¸ºä½ çš„ç½‘ç«™æ·»åŠ æœç´¢åŠŸèƒ½ æœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥ä¸ºä½ çš„ç½‘ç«™æ·»åŠ æœç´¢åŠŸèƒ½ã€‚å…¶ä¸­ä¸€ç§æœ€æµè¡Œçš„æ–¹æ³•æ˜¯ä½¿ç”¨å¼€æºæœç´¢å¼•æ“ï¼Œå¦‚ Elasticsearch æˆ– Solrã€‚è¿™äº›æœç´¢å¼•æ“éå¸¸å¼ºå¤§ï¼Œå¯ä»¥ç”¨äºç´¢å¼•å’Œæœç´¢æ•°ç™¾ä¸‡æ–‡æ¡£ã€‚ åœ¨å¹•åï¼Œè¿™ä¸¤ä¸ªæœç´¢å¼•æ“éƒ½ä½¿ç”¨ Lucene æ¥å»ºç«‹ç´¢å¼•å’Œæœç´¢æ–‡æ¡£ã€‚Lucene æ˜¯ä¸€ä¸ª Java åº“ï¼Œæä¾›äº†ä¸€ä¸ªç®€å•çš„ API ç”¨äºç´¢å¼•å’Œæœç´¢æ–‡æ¡£ã€‚ è¦ä½¿ç”¨è¿™äº›å·¥å…·ï¼Œä½ éœ€è¦åœ¨ä½ çš„æ•°æ®å’Œæœç´¢å¼•æ“ä¹‹é—´å®ç°ä¸€ä¸ªåŒæ­¥æœºåˆ¶ã€‚ è¿™å¯èƒ½æ˜¯ä¸€é¡¹å¤æ‚çš„ä»»åŠ¡ï¼Œéœ€è¦å¤§é‡å·¥ä½œã€‚","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"ğŸ“˜ Building the Hybrid Search Pipeline","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/hybrid-search/implementing-hybrid-search","content":"","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"3.1 Vector Search Stageâ€‹","type":1,"pageTitle":"ğŸ“˜ Building the Hybrid Search Pipeline","url":"/search-lab/zh/docs/hybrid-search/implementing-hybrid-search#31-vector-search-stage","content":" The first stage of our pipeline will be the vector search. This allows us to find books with synopses that are semantically similar to our query.   { $vectorSearch: { index: &quot;books_synopsis_vector&quot;, path: &quot;embeddings&quot;, queryVector: [0.1, -0.2, 0.3, ...], // Your query vector here numCandidates: 100, limit: 20 } }   Let's break this down:  index: The name of your vector index.path: The field containing your embeddings.queryVector: The vector representation of your search query.numCandidates: The number of initial candidates to consider.limit: The maximum number of results to return from this stage.  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"3.2 Text Search Stageâ€‹","type":1,"pageTitle":"ğŸ“˜ Building the Hybrid Search Pipeline","url":"/search-lab/zh/docs/hybrid-search/implementing-hybrid-search#32-text-search-stage","content":" Next, we'll add a text search stage to find books based on title and author matches.  { $search: { index: &quot;books_text_index&quot;, compound: { should: [ { text: { query: &quot;your search query&quot;, path: &quot;title&quot;, score: { boost: { value: 3 } } } }, { text: { query: &quot;your search query&quot;, path: &quot;authors.name&quot;, score: { boost: { value: 2 } } } } ] } } }   ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"Key points:â€‹","type":1,"pageTitle":"ğŸ“˜ Building the Hybrid Search Pipeline","url":"/search-lab/zh/docs/hybrid-search/implementing-hybrid-search#key-points","content":" We're using a compound query with &quot;should&quot; clauses.We search in both title and authors.name fields.The boost values (3 for title, 2 for author) give more weight to title matches. ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ğŸ“˜ Introduction to Hybrid Search","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/hybrid-search/intro","content":"","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"What is Hybrid Search?â€‹","type":1,"pageTitle":"ğŸ“˜ Introduction to Hybrid Search","url":"/search-lab/zh/docs/hybrid-search/intro#what-is-hybrid-search","content":" Hybrid search is an advanced information retrieval technique that combines multiple search methodologies to provide more accurate and relevant results. In the context of our library management system, we'll be focusing on a hybrid approach that merges two powerful search paradigms:    Vector Search: Also known as semantic search, this method uses mathematical representations (vectors) of text to find similarities based on meaning rather than exact word matches.Full-Text Search: This traditional method looks for exact or close matches of words and phrases within text fields.  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"Why Use Hybrid Search?â€‹","type":1,"pageTitle":"ğŸ“˜ Introduction to Hybrid Search","url":"/search-lab/zh/docs/hybrid-search/intro#why-use-hybrid-search","content":" Hybrid search offers several advantages over using either vector or full-text search alone:  Improved Accuracy: By combining semantic understanding with keyword matching, hybrid search can capture both conceptual similarity and specific term relevance.Better Handling of Complex Queries: It can effectively process queries that might be ambiguous or require understanding of context.Enhanced User Experience: Users can find relevant results even when they don't know the exact terms to search for.Balancing Precision and Recall: Hybrid search helps in finding a good balance between returning highly specific results and a broader range of relevant items.  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"Hybrid Search in Our Library Management Systemâ€‹","type":1,"pageTitle":"ğŸ“˜ Introduction to Hybrid Search","url":"/search-lab/zh/docs/hybrid-search/intro#hybrid-search-in-our-library-management-system","content":" In our library application, hybrid search will allow us to:  Find books based on the semantic similarity of their synopses to a given query.Match books by title, author, or other metadata fields.Combine these approaches to rank results in a way that considers both content similarity and metadata relevance.  For example, a search for &quot;space exploration&quot; could return:  Books directly about space exploration (matched by title or synopsis)Science fiction novels set in space (matched semantically)Biographies of astronauts (matched by related concepts)  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"How It Worksâ€‹","type":1,"pageTitle":"ğŸ“˜ Introduction to Hybrid Search","url":"/search-lab/zh/docs/hybrid-search/intro#how-it-works","content":" Our hybrid search implementation will:  Use vector search on book synopsis embeddings to find semantically similar content.Employ full-text search on titles, author names, and other relevant fields.Combine the scores from both methods to create a final relevance ranking.  This approach ensures that our library catalog search is both powerful and intuitive, helping users discover books that best match their interests, even if they're not sure of the exact titles or authors they're looking for. ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ğŸ“˜ ä»‹ç»","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/intro","content":"","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"ğŸ“˜ğŸ‘ğŸ¦¸ å¯¼èˆªæ å›¾æ ‡â€‹","type":1,"pageTitle":"ğŸ“˜ ä»‹ç»","url":"/search-lab/zh/docs/intro#-å¯¼èˆªæ å›¾æ ‡","content":" è¿™äº›å®éªŒæ˜¯ç”±æˆ‘ä»¬å‡ºè‰²çš„è®²å¸ˆä¹‹ä¸€å‘ˆç°çš„ï¼Œä½†ä½ ä¹Ÿå¯ä»¥è‡ªå·±å®Œæˆã€‚  åœ¨å¯¼èˆªæ ä¸­ï¼Œä½ ä¼šæ³¨æ„åˆ°ä¸€äº›å›¾æ ‡ã€‚å®ƒä»¬çš„å«ä¹‰å¦‚ä¸‹ï¼š  å›¾æ ‡\tå«ä¹‰ğŸ“˜\tè®²ä¹‰ææ–™ - å¦‚æœæ‚¨æ­£åœ¨è·Ÿéšå¯¼å¸ˆä¸»å¯¼çš„è¯¾ç¨‹ï¼Œä»–ä»¬å¯èƒ½å·²ç»è¦†ç›–äº†è¿™äº›ææ–™ã€‚ ğŸ‘\tåŠ¨æ‰‹å†…å®¹ - å‡†å¤‡å¥½è¿›è¡Œä¸€äº›å®é™…æ“ä½œã€‚æ‚¨åº”è¯¥æŒ‰ç…§è¿™äº›æ­¥éª¤è¿›è¡Œã€‚ ğŸ¦¸\té«˜çº§å†…å®¹ - è¿™äº›å†…å®¹åœ¨å®éªŒæœŸé—´æœªè¦†ç›–ï¼Œä½†å¦‚æœæ‚¨æœ‰å…´è¶£äº†è§£æ›´å¤šï¼Œå¯ä»¥æŸ¥çœ‹ã€‚ ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ğŸ“˜ Complete Code example","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/hybrid-search/complete-example","content":"ğŸ“˜ Complete Code example Here's the complete example code to implement a hybrid search against the books collection. db.books.aggregate([ // Vector search on book synopsis embeddings { $vectorSearch: { index: &quot;books_synopsis_vector&quot;, path: &quot;embeddings&quot;, queryVector: [0.023, -0.345, 0.122, ...], // Example query vector numCandidates: 100, limit: 20 } }, // Add vector search score { $set: { vector_score: { $meta: &quot;vectorSearchScore&quot; } } }, // Combine with text search on title and author { $search: { index: &quot;books_text_index&quot;, compound: { should: [ { text: { query: &quot;mystery novel&quot;, path: &quot;title&quot;, score: { boost: { value: 3 } } } }, { text: { query: &quot;mystery novel&quot;, path: &quot;authors.name&quot;, score: { boost: { value: 2 } } } } ] } } }, // Add text search score { $set: { text_score: { $meta: &quot;searchScore&quot; } } }, // Combine scores { $addFields: { combined_score: { $add: [ { $multiply: [&quot;$vector_score&quot;, 0.6] }, { $multiply: [&quot;$text_score&quot;, 0.4] } ] } } }, // Sort and limit results { $sort: { combined_score: -1 } }, { $limit: 5 }, // Project final results { $project: { title: 1, authors: 1, synopsis: 1, combined_score: 1, vector_score: 1, text_score: 1 } } ]) ","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"ğŸ“˜ equals æ“ä½œç¬¦","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/search-operators/equals","content":"ğŸ“˜ equals æ“ä½œç¬¦ equals æ“ä½œç¬¦ç”¨äºåœ¨å­—æ®µä¸­æœç´¢ç‰¹å®šå€¼ã€‚å®ƒç±»ä¼¼äº match æ“ä½œç¬¦ï¼Œä½†æ“ä½œå°†ç”± Lucene æ‰§è¡Œï¼Œå¹¶ä¸”å¯ä»¥ä¸å…¶ä»–æ“ä½œç¬¦ç»“åˆä½¿ç”¨ä»¥ä¼˜åŒ–ç»“æœã€‚ equals æ“ä½œç¬¦çš„è¯­æ³•å¦‚ä¸‹ã€‚æ‚¨å¯ä»¥åœ¨æ–‡æ¡£ä¸­æ‰¾åˆ°æ›´å¤šè§£é‡Šã€‚ { $search: { &quot;index&quot;: &lt;index name&gt;, // å¯é€‰ï¼Œé»˜è®¤ä¸º &quot;default&quot; &quot;equals&quot;: { &quot;path&quot;: &quot;&lt;field-to-search&gt;&quot;, &quot;value&quot;: &lt;boolean-value&gt;|&lt;objectId&gt;|&lt;number&gt;|&lt;date&gt;, &quot;score&quot;: &lt;score-options&gt; } } } å¦‚æœæ‚¨åªæƒ³æŸ¥è¯¢åœ¨ç‰¹å®šå¹´ä»½å‡ºç‰ˆçš„ä¹¦ç±ï¼Œè¿™å°†éå¸¸æœ‰ç”¨ã€‚","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"ğŸ¦¸ é«˜çº§ç»ƒä¹ ","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/search-operators/advanced-exercises","content":"","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"æå‡çŸ­ä¹¦ä¼˜å…ˆçº§â€‹","type":1,"pageTitle":"ğŸ¦¸ é«˜çº§ç»ƒä¹ ","url":"/search-lab/zh/docs/search-operators/advanced-exercises#æå‡çŸ­ä¹¦ä¼˜å…ˆçº§","content":" ä½ æ³¨æ„åˆ°è¯»è€…å€¾å‘äºå–œæ¬¢è¾ƒçŸ­çš„ä¹¦ç±ã€‚åœ¨ä¸ä½¿ç”¨boostè¿›è¡Œåˆ†æ•°æå‡çš„æƒ…å†µä¸‹ï¼Œå°è¯•åœ¨æœç´¢ç»“æœä¸­æå‡è¾ƒçŸ­çš„ä¹¦ç±ã€‚  æç¤º å³ä½¿ä¸ä½¿ç”¨åˆ†æ•°è°ƒæ•´å™¨ï¼Œshouldæ“ä½œç¬¦ä»ç„¶ä¼šæå‡ç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£çš„åˆ†æ•°ã€‚  ç­”æ¡ˆ public async searchBooks(query: string): Promise&lt;Book[]&gt; { const aggregationPipeline = [ { $search: { &quot;index&quot;: &quot;fulltextsearch&quot;, &quot;compound&quot;: { &quot;must&quot;: [ { &quot;text&quot;: { query, &quot;path&quot;: [&quot;title&quot;, &quot;authors.name&quot;, &quot;genres&quot;], fuzzy: { maxEdits: 2 } } } ], &quot;should&quot;: [ { &quot;equals&quot;: { &quot;value&quot;: true, &quot;path&quot;: &quot;bookOfTheMonth&quot;, &quot;score&quot;: { &quot;boost&quot;: { value: 10 } } } }, { &quot;range&quot;: { path: &quot;pages&quot;, lt: 80 } } ] } } } ]; const books = await collections?.books?.aggregate(aggregationPipeline).toArray() as Book[]; return books; }   é€‰æ‹©ä½ æœ€å–œæ¬¢çš„æ–¹å¼æ¥æ„å»ºèšåˆç®¡é“ï¼Œå¹¶å°è¯•è§£å†³ä»¥ä¸‹ç»ƒä¹ ã€‚  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"æœ€å¤šå¯å€Ÿé˜…çš„æœ¬æœˆä¹¦ç±â€‹","type":1,"pageTitle":"ğŸ¦¸ é«˜çº§ç»ƒä¹ ","url":"/search-lab/zh/docs/search-operators/advanced-exercises#æœ€å¤šå¯å€Ÿé˜…çš„æœ¬æœˆä¹¦ç±","content":" æ„å»ºä¸€ä¸ªæœç´¢èšåˆè¯­å¥ï¼Œæå‡æœ¬æœˆä¹¦ç±çš„ä¼˜å…ˆçº§ï¼Œå¹¶é¦–å…ˆè¿”å›å…·å¤‡æœ€å¤šå¯å€Ÿé˜…å‰¯æœ¬çš„ä¹¦ç±ã€‚  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"æœ€å¤šäº§çš„â€œpoohâ€ä½œè€…â€‹","type":1,"pageTitle":"ğŸ¦¸ é«˜çº§ç»ƒä¹ ","url":"/search-lab/zh/docs/search-operators/advanced-exercises#æœ€å¤šäº§çš„poohä½œè€…","content":" æ‰¾å‡ºå“ªä½ä½œè€…å†™äº†æœ€å¤šçš„â€œpoohâ€è¿™ä¸ªè¯ï¼Œåœ¨æ ‡é¢˜æˆ–ç®€ä»‹ä¸­å‡ºç°çš„ä¹¦ç±éƒ½ç®—ã€‚  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"å‡è®¾æœ‰æ‹¼å†™é”™è¯¯ï¼Œä½†ä»ç„¶æ‰¾åˆ°åŒ¹é…é¡¹â€‹","type":1,"pageTitle":"ğŸ¦¸ é«˜çº§ç»ƒä¹ ","url":"/search-lab/zh/docs/search-operators/advanced-exercises#å‡è®¾æœ‰æ‹¼å†™é”™è¯¯ä½†ä»ç„¶æ‰¾åˆ°åŒ¹é…é¡¹","content":" æ‰¾åˆ°ä¸ç”¨æˆ·æŸ¥è¯¢åŒ¹é…çš„ä¹¦ç±ï¼Œä½†ä¹Ÿè¿”å›ä¸æ‹¼å†™é”™è¯¯åŒ¹é…çš„ä¹¦ç±ã€‚è¿™äº›ä¹¦ç±åº”åœ¨ä¸æŸ¥è¯¢åŒ¹é…çš„ä¹¦ç±ä¹‹åè¿”å›ã€‚ ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ğŸ“˜ æœç´¢æ“ä½œç¬¦ç®€ä»‹","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/search-operators/intro","content":"ğŸ“˜ æœç´¢æ“ä½œç¬¦ç®€ä»‹ åœ¨ä¸Šä¸€ä¸ªç»ƒä¹ ä¸­ï¼Œæ‚¨ä½¿ç”¨äº†ä¸€ä¸ªç±»ä¼¼è¿™æ ·çš„ $search é˜¶æ®µã€‚ { $search: { index: 'fulltextsearch', text: { query, path: ['title', 'authors.name', 'categories'] } } } æˆ‘ä»¬å·²ç»è®¨è®ºè¿‡ $search é˜¶æ®µåŠå…¶ index å±æ€§ï¼Œä½†ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬åªåœ¨æœ€ç®€å•çš„å½¢å¼ä¸­ä½¿ç”¨äº† text æ“ä½œç¬¦ã€‚ ç„¶è€Œï¼Œå½“æ‚¨å¸Œæœ›ä¼˜åŒ–æœç´¢ç»“æœæ—¶ï¼Œæ‚¨éœ€è¦ä½¿ç”¨æ›´é«˜çº§çš„æ“ä½œç¬¦ï¼Œç”šè‡³ç»“åˆä¸€äº›æ“ä½œç¬¦ä»¥è·å¾—æ‰€éœ€çš„ç»“æœã€‚ åœ¨è¿™ä¸ªç»ƒä¹ ä¸­ï¼Œæˆ‘ä»¬å°†æ¢ç´¢ä¸€äº›æœ€å¸¸è§çš„æ“ä½œç¬¦ä»¥åŠå¦‚ä½•ä½¿ç”¨å®ƒä»¬ã€‚","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"ğŸ“˜ phrase æ“ä½œç¬¦","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/search-operators/phrase","content":"","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"slop å±æ€§â€‹","type":1,"pageTitle":"ğŸ“˜ phrase æ“ä½œç¬¦","url":"/search-lab/zh/docs/search-operators/phrase#slop-å±æ€§","content":" slop å±æ€§ç”¨äºæŒ‡å®šçŸ­è¯­ä¸­çš„å•è¯å¯ä»¥ç›¸éš”å¤šè¿œã€‚é»˜è®¤å€¼æ˜¯ 0ï¼Œè¿™æ„å‘³ç€å•è¯å¿…é¡»æŒ‰æŸ¥è¯¢ä¸­æŒ‡å®šçš„ç¡®åˆ‡é¡ºåºæ’åˆ—ã€‚å¦‚æœå°†å€¼è®¾ç½®ä¸º 1ï¼Œåˆ™å•è¯ä¹‹é—´å¯ä»¥ç›¸éš”ä¸€ä¸ªå•è¯ï¼Œä¾æ­¤ç±»æ¨ã€‚ ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ğŸ¦¸â€â™‚ï¸ Hybrid Search Exercise","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/hybrid-search/exercise","content":"","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"Creating a Basic Hybrid Search Pipelineâ€‹","type":1,"pageTitle":"ğŸ¦¸â€â™‚ï¸ Hybrid Search Exercise","url":"/search-lab/zh/docs/hybrid-search/exercise#creating-a-basic-hybrid-search-pipeline","content":" Let's start by creating a basic hybrid search pipeline that combines vector search on book synopses with text search on titles and author names:  [ { $vectorSearch: { queryVector: vector, // Assume this is already defined path: &quot;embeddings&quot;, numCandidates: 100, index: &quot;books_synopsis_vector&quot;, limit: 20 } }, { $search: { index: &quot;books_text_index&quot;, compound: { should: [ { text: { query: searchQuery, // Assume this is already defined path: &quot;title&quot;, score: { boost: { value: 3 } } } }, { text: { query: searchQuery, path: &quot;authors.name&quot;, score: { boost: { value: 2 } } } } ] } } }, { $addFields: { vector_score: { $meta: &quot;vectorSearchScore&quot; }, text_score: { $meta: &quot;searchScore&quot; } } }, { $addFields: { combined_score: { $add: [ { $multiply: [&quot;$vector_score&quot;, 0.5] }, { $multiply: [&quot;$text_score&quot;, 0.5] } ] } } }, { $sort: { combined_score: -1 } }, { $limit: 10 } ]   Add this aggregation pipeline to your code in server/src/controllers/books.ts inside the searchBooks method.  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"Experimenting with Score Weightingâ€‹","type":1,"pageTitle":"ğŸ¦¸â€â™‚ï¸ Hybrid Search Exercise","url":"/search-lab/zh/docs/hybrid-search/exercise#experimenting-with-score-weighting","content":" Now that we have a basic hybrid search implemented, let's experiment with different weightings for the vector and text scores.  Try adjusting the weights in the combined_score calculation. For example:  combined_score: { $add: [ { $multiply: [&quot;$vector_score&quot;, 0.7] }, { $multiply: [&quot;$text_score&quot;, 0.3] } ] }   This gives more weight to the vector search results.  Test the search with different queries and observe how the results change with different weightings.Experiment with the boost values in the text search stage. Try increasing the boost for the title or author name and see how it affects the results.  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"Adding Pre-filteringâ€‹","type":1,"pageTitle":"ğŸ¦¸â€â™‚ï¸ Hybrid Search Exercise","url":"/search-lab/zh/docs/hybrid-search/exercise#adding-pre-filtering","content":" To further refine our hybrid search, let's add pre-filtering capabilities. We'll filter books by their publication year before performing the vector search.  Modify your vector search stage to include a filter:   { $vectorSearch: { queryVector: vector, path: &quot;embeddings&quot;, numCandidates: 100, index: &quot;books_synopsis_vector&quot;, limit: 20, filter: { year: { $gte: 2000 } } // Only books published from 2000 onwards } }   Remember to update your vector index to support filtering on the year field, similar to what you did in the pre-filtering exercise:  { &quot;fields&quot;: [ { &quot;type&quot;: &quot;vector&quot;, &quot;path&quot;: &quot;embeddings&quot;, &quot;numDimensions&quot;: 1536, &quot;similarity&quot;: &quot;cosine&quot; }, { &quot;type&quot;: &quot;filter&quot;, &quot;path&quot;: &quot;year&quot; } ] }   ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"Exercise Tasksâ€‹","type":1,"pageTitle":"ğŸ¦¸â€â™‚ï¸ Hybrid Search Exercise","url":"/search-lab/zh/docs/hybrid-search/exercise#exercise-tasks","content":" Implement the basic hybrid search pipeline in your application.Experiment with at least three different weight combinations for vector and text scores. Document how the results change.Add pre-filtering to your hybrid search to only include books published in the last 20 years.Create a function that allows users to specify the importance of title matches vs. content similarity, and adjust the weights accordingly.Test your hybrid search with various queries and compare the results to those from pure vector search and pure text search.  Completing this exercise, you'll gain hands-on experience in implementing and fine-tuning a hybrid search solution, combining the strengths of both vector and text search capabilities in MongoDB Atlas. ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ğŸ‘ ç»ƒä¹ ","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/search-operators/exercises","content":"","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"æ·»åŠ æ¨¡ç³Šæœç´¢â€‹","type":1,"pageTitle":"ğŸ‘ ç»ƒä¹ ","url":"/search-lab/zh/docs/search-operators/exercises#æ·»åŠ æ¨¡ç³Šæœç´¢","content":" å°è¯•åœ¨ä½ çš„åº”ç”¨ä¸­æ·»åŠ æ¨¡ç³Šæœç´¢åŠŸèƒ½ï¼Œä»¥ä¾¿å³ä½¿ç”¨æˆ·è¾“å…¥æœ‰æ‹¼å†™é”™è¯¯ä¹Ÿèƒ½æ‰¾åˆ°æ­£ç¡®çš„ä¹¦ç±ã€‚  æç¤º è¿˜è®°å¾— text æ“ä½œç¬¦çš„ fuzzy å‚æ•°å—ï¼Ÿå°±æ˜¯åœ¨è¿™é‡Œä½¿ç”¨å®ƒã€‚  ç­”æ¡ˆ public async searchBooks(query: string): Promise&lt;Book[]&gt; { const aggregationPipeline = [ { $search: { index: 'fulltextsearch', text: { query, path: ['title', 'authors.name', 'genres'], fuzzy: { maxEdits: 2 } } } } ]; const books = await collections?.books?.aggregate(aggregationPipeline).toArray() as Book[]; return books; }   ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"æ¨å¹¿æœˆåº¦æ¨èä¹¦ç±â€‹","type":1,"pageTitle":"ğŸ‘ ç»ƒä¹ ","url":"/search-lab/zh/docs/search-operators/exercises#æ¨å¹¿æœˆåº¦æ¨èä¹¦ç±","content":" å¸‚åœºå›¢é˜Ÿå†³å®šè¦æ¨å¹¿æœˆåº¦æ¨èä¹¦ç±ã€‚ä»–ä»¬å¸Œæœ›åœ¨æœç´¢ç»“æœä¸­é¦–å…ˆæ˜¾ç¤ºè¿™äº›ä¹¦ç±ã€‚ä½ ä¼šæ€ä¹ˆåšå‘¢ï¼Ÿ  æç¤º ä½ éœ€è¦åœ¨è¿™é‡Œä½¿ç”¨ compound æ“ä½œç¬¦å’Œå¤šä¸ªæ“ä½œç¬¦ã€‚ä½ å¯ä»¥ä½¿ç”¨ä¸€äº›ä¹¦ç±ä¸Šçš„ bookOfTheMonth å¸ƒå°”å­—æ®µã€‚  ç­”æ¡ˆ public async searchBooks(query: string): Promise&lt;Book[]&gt; { const aggregationPipeline = [ { $search: { &quot;index&quot;: &quot;fulltextsearch&quot;, &quot;compound&quot;: { &quot;must&quot;: [ { &quot;text&quot;: { query, &quot;path&quot;: [&quot;title&quot;, &quot;authors.name&quot;, &quot;genres&quot;], fuzzy: { maxEdits: 2 } } } ], &quot;should&quot;: [ { &quot;equals&quot;: { &quot;value&quot;: true, &quot;path&quot;: &quot;bookOfTheMonth&quot;, &quot;score&quot;: { &quot;boost&quot;: { value: 10 } } } } ] } } } ]; const books = await collections?.books?.aggregate(aggregationPipeline).toArray() as Book[]; return books; }  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ğŸ“˜ æ··åˆå’ŒåŒ¹é…","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/search-operators/mix-and-match","content":"","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"ä½¿ç”¨è¯„åˆ†çš„å¤åˆæŸ¥è¯¢â€‹","type":1,"pageTitle":"ğŸ“˜ æ··åˆå’ŒåŒ¹é…","url":"/search-lab/zh/docs/search-operators/mix-and-match#ä½¿ç”¨è¯„åˆ†çš„å¤åˆæŸ¥è¯¢","content":" æ‚¨è¿˜å¯ä»¥ä½¿ç”¨ compound æ“ä½œç¬¦å’Œ score é€‰é¡¹æ¥æ§åˆ¶å­æŸ¥è¯¢è¯„åˆ†çš„ç»„åˆæ–¹å¼ã€‚å‡è®¾å›¾ä¹¦é¦†æœ‰ä¸€ä¸ªæœˆåº¦ä¸»é¢˜ï¼Œä»–ä»¬å¸Œæœ›æ¨å¹¿åœ¨ç®€ä»‹ä¸­åŒ…å«ç‰¹å®šè¯çš„ä¹¦ç±ã€‚æœ¬æœˆçš„ä¸»é¢˜æ˜¯ &quot;bears&quot;ã€‚è¯•ç€å†™ä¸€ä¸ªæœç´¢æŸ¥è¯¢ï¼Œå°†ç”¨æˆ·æŸ¥è¯¢çš„ä¹¦ç±è¿”å›ï¼Œä½†åŒ…å« &quot;bear&quot; ä¸€è¯çš„ä¹¦ç±è¯„åˆ†æ›´é«˜ï¼Œå¹¶æ’åœ¨å‰é¢ã€‚è¯•ç€è®©ä¸€æœ¬å…³äº Winnie the Pooh çš„ä¹¦åœ¨ç”¨æˆ·æœç´¢ &quot;honey&quot; æ—¶æ’åœ¨ç¬¬ä¸€ä½ã€‚  ç‚¹å‡»æŸ¥çœ‹ç­”æ¡ˆ { &quot;index&quot;: &quot;fulltextsearch&quot;, &quot;compound&quot;: { &quot;must&quot;: [ { &quot;text&quot;: { &quot;query&quot;: &quot;honey&quot;, &quot;path&quot;: [&quot;title&quot;, &quot;author.name&quot;, &quot;synopsis&quot;] } } ], &quot;should&quot;: [ { &quot;text&quot;: { &quot;query&quot;: &quot;bear&quot;, &quot;path&quot;: &quot;synopsis&quot;, &quot;score&quot;: { &quot;boost&quot;: { value: 10 } } } } ] } }  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ğŸ“˜ range æ“ä½œç¬¦","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/search-operators/range","content":"ğŸ“˜ range æ“ä½œç¬¦ range æ“ä½œç¬¦ç±»ä¼¼äº equalsï¼Œä½†é€‚ç”¨äºå€¼çš„èŒƒå›´ã€‚ range æ“ä½œç¬¦çš„è¯­æ³•å¦‚ä¸‹ã€‚æ‚¨å¯ä»¥åœ¨æ–‡æ¡£ä¸­æ‰¾åˆ°æ›´å¤šè§£é‡Šã€‚ { &quot;$search&quot;: { &quot;index&quot;: &lt;index name&gt;, // å¯é€‰ï¼Œé»˜è®¤ä¸º &quot;default&quot; &quot;range&quot;: { &quot;path&quot;: &quot;&lt;field-to-search&gt;&quot;, &quot;gt | gte&quot;: &lt;value-to-search&gt;, &quot;lt | lte&quot;: &lt;value-to-search&gt;, &quot;score&quot;: &lt;score-options&gt; } } } å¦‚æœæ‚¨åªæƒ³æŸ¥è¯¢é¡µæ•°åœ¨ä¸€å®šèŒƒå›´å†…çš„ä¹¦ç±ï¼Œè¿™å°†éå¸¸æœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨åªæƒ³è¦ 100 åˆ° 300 é¡µä¹‹é—´çš„ä¹¦ç±ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ range æ“ä½œç¬¦æ¥ä¼˜åŒ–ç»“æœã€‚","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"ğŸ“˜ è¯„åˆ†ä¿®é¥°ç¬¦","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/search-operators/score-modifier","content":"","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"æå‡ (Boost)â€‹","type":1,"pageTitle":"ğŸ“˜ è¯„åˆ†ä¿®é¥°ç¬¦","url":"/search-lab/zh/docs/search-operators/score-modifier#æå‡-boost","content":" ä½¿ç”¨ boostï¼Œæ‚¨å¯ä»¥å°†è¯„åˆ†ä¹˜ä»¥æŸä¸ªå€¼ã€‚è¿™å¯¹äºæå‡æŸäº›ç»“æœçš„åˆ†æ•°éå¸¸æœ‰ç”¨ã€‚è¾ƒé«˜çš„æå‡ç­‰çº§ä¼šå¾—åˆ°æ›´é«˜çš„ä¿®é¥°ç¬¦ã€‚  åœ¨æˆ‘ä»¬çš„æ•°æ®é›†ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å†³å®šæå‡å±äº fiction ç±»å‹çš„ç»“æœã€‚  { $search: { index: 'fulltextsearch', text: { query: 'fiction', path: 'genres' }, score: { boost: { value: 2 } } } }   ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"å¸¸é‡ (Constant)â€‹","type":1,"pageTitle":"ğŸ“˜ è¯„åˆ†ä¿®é¥°ç¬¦","url":"/search-lab/zh/docs/search-operators/score-modifier#å¸¸é‡-constant","content":" æˆ‘ä»¬ä¹Ÿå¯ä»¥å°†è¯„åˆ†è®¾ç½®ä¸ºä¸€ä¸ªå¸¸é‡å€¼ã€‚è¿™å¯¹äºè´¬ä½ä¸å¤Ÿç›¸å…³çš„ç»“æœéå¸¸æœ‰ç”¨ã€‚åœ¨æˆ‘ä»¬çš„ç”¨ä¾‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºå½“å‰ä¸å¯ç”¨çš„ä¹¦ç±è®¾ç½®ä¸€ä¸ªå¸¸é‡å€¼ 0ã€‚  { $search: { index: 'fulltextsearch', equals: { path: 'available', value: 0 }, score: { constant: { value: 0 } } } }  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ğŸ“˜ è¯„åˆ†","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/search-operators/scoring","content":"ğŸ“˜ è¯„åˆ† æ‚¨å¯èƒ½å·²ç»æ³¨æ„åˆ°ï¼Œå¤§å¤šæ•°æ“ä½œç¬¦éƒ½æœ‰ä¸€ä¸ª score å±æ€§ï¼Œä½†æˆ‘ä»¬è¿˜æ²¡æœ‰çœŸæ­£è®¨è®ºè¿‡å®ƒã€‚ åœ¨æ·±å…¥äº†è§£è¯„åˆ†ä¹‹å‰ï¼Œé‡è¦çš„æ˜¯è¦ç†è§£æ–‡æ¡£è¯„åˆ†æ˜¯ä»€ä¹ˆã€‚æ¯ä¸ªç”± Atlas Search æŸ¥è¯¢è¿”å›çš„æ–‡æ¡£éƒ½ä¼šæ ¹æ®ç›¸å…³æ€§åˆ†é…ä¸€ä¸ªè¯„åˆ†ï¼Œå¹¶ä¸”ç»“æœé›†ä¸­åŒ…å«çš„æ–‡æ¡£ä¼šæŒ‰ä»é«˜åˆ°ä½çš„è¯„åˆ†é¡ºåºè¿”å›ã€‚ ä¸€äº›å¯ä»¥å½±å“è¯„åˆ†çš„å› ç´ åŒ…æ‹¬ï¼š æœç´¢è¯åœ¨æ–‡æ¡£ä¸­çš„ä½ç½®ï¼Œæœç´¢è¯åœ¨æ–‡æ¡£ä¸­å‡ºç°çš„é¢‘ç‡ï¼ŒæŸ¥è¯¢ä½¿ç”¨çš„æ“ä½œç¬¦ç±»å‹ï¼ŒæŸ¥è¯¢ä½¿ç”¨çš„åˆ†æå™¨ç±»å‹ã€‚ è¦æŸ¥çœ‹è¯„åˆ†ï¼Œæ‚¨éœ€è¦ä½¿ç”¨ $meta æŠ•å½±ä¸€ä¸ªæ–°çš„å…ƒæ•°æ®å­—æ®µã€‚è¦åœ¨ç®€å•çš„çŸ­è¯­æœç´¢ Alice in Wonderland ä¸­æŸ¥çœ‹æ–‡æ¡£è¯„åˆ†ï¼Œè¯·å°è¯•ä»¥ä¸‹èšåˆç®¡é“ã€‚ æ‚¨å¯ä»¥åœ¨ Atlas UI æˆ– Compass çš„èšåˆæ„å»ºå™¨ä¸­è¿è¡Œæ­¤ä»£ç ã€‚ [ { $search: { index: &quot;fulltextsearch&quot;, phrase: { query: &quot;Alice in Wonderland&quot;, path: &quot;title&quot;, }, }, }, { $project: { title: 1, authors: 1, pages: 1, year: 1, score: { $meta: &quot;searchScore&quot;, }, }, }, ] æ‚¨çš„ç¬¬ä¸€ä¸ªç»“æœåº”è¯¥æ˜¯ { &quot;_id&quot;: &quot;0831702877&quot;, &quot;title&quot;: &quot;Alice in Wonderland&quot;, &quot;authors&quot;: [ { &quot;_id&quot;: &quot;64cc2db4830ba29148da7bbc&quot;, &quot;name&quot;: &quot;Walt Disney Productions&quot; }, { &quot;_id&quot;: &quot;64cc2db4830ba29148da8db5&quot;, &quot;name&quot;: &quot;Mouse Works&quot; } ], &quot;pages&quot;: 95, &quot;year&quot;: 1997, &quot;score&quot;: 10.441896438598633 } å®ƒå¾—åˆ†æ¯”ä¸‹ä¸€ä¸ªé«˜å¾—å¤šï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªå®Œå…¨åŒ¹é…ã€‚","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"ğŸ‘ å¼€å§‹ä½¿ç”¨","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/search/intro","content":"ğŸ‘ å¼€å§‹ä½¿ç”¨ åœ¨æœ¬èŠ‚ä¸­ï¼Œä½ å°†çœ‹åˆ°å¼€å§‹ä½¿ç”¨ MongoDB Atlas Search æ˜¯å¤šä¹ˆç®€å•ã€‚ è­¦å‘Š æ­¤æ—¶ï¼Œä½ åº”è¯¥å·²ç»åœ¨ Codespace ä¸­è¿è¡Œäº†ç¤ºä¾‹åº”ç”¨ç¨‹åºï¼Œå¹¶åŠ è½½äº†åŒ…å«å›¾ä¹¦é¦†æ•°æ®çš„å…è´¹é›†ç¾¤ã€‚å¦‚æœä½ è¿˜æ²¡æœ‰è¿™æ ·åšï¼Œè¯·å…ˆå®Œæˆ å…¥é—¨å®éªŒã€‚","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"ğŸ“˜ text æ“ä½œç¬¦","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/search-operators/text","content":"","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"fuzzy å±æ€§â€‹","type":1,"pageTitle":"ğŸ“˜ text æ“ä½œç¬¦","url":"/search-lab/zh/docs/search-operators/text#fuzzy-å±æ€§","content":" æ¨¡ç³Šæœç´¢æ˜¯ä¸€ç§å…è®¸æ‚¨æœç´¢ä¸ç›®æ ‡è¯ç›¸ä¼¼çš„æœ¯è¯­çš„æŠ€æœ¯ã€‚å½“ç”¨æˆ·åœ¨æœç´¢æŸ¥è¯¢ä¸­å¯èƒ½ä¼šæ‹¼å†™é”™è¯¯æˆ–æ‹¼å†™é”™è¯¯æ—¶ï¼Œå®ƒéå¸¸æœ‰ç”¨ã€‚  fuzzy å±æ€§æœ‰è®¸å¤šé€‰é¡¹ï¼Œæ‚¨å¯ä»¥åœ¨æ–‡æ¡£ä¸­æ‰¾åˆ°æ›´å¤šä¿¡æ¯ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å°†é‡ç‚¹å…³æ³¨ maxEdits é€‰é¡¹ã€‚MaxEdits å°†æŒ‡å®šå¯ä»¥è¿›è¡Œçš„å­—ç¬¦ç¼–è¾‘çš„æ•°é‡ä»¥æ‰¾åˆ°åŒ¹é…é¡¹ã€‚  ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æœç´¢ Aliceï¼Œæ‚¨åº”è¯¥æ‰¾åˆ°ä¹¦ Alice in Wonderlandã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªæ‹¼å†™é”™è¯¯ï¼Œå¦‚ Alyseã€Alise æˆ– Alliceï¼Œæ‚¨å°†æ‰¾ä¸åˆ°è¿™æœ¬ä¹¦ã€‚è¿™æ—¶ maxEdits é€‰é¡¹å°±æ´¾ä¸Šç”¨åœºäº†ã€‚è®¾ç½®ä¸º 1 çš„ maxEditsï¼Œæ‚¨å³ä½¿æœ‰ä¸€ä¸ªæ‹¼å†™é”™è¯¯ä¹Ÿèƒ½æ‰¾åˆ°è¿™æœ¬ä¹¦ã€‚  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"synonyms å±æ€§â€‹","type":1,"pageTitle":"ğŸ“˜ text æ“ä½œç¬¦","url":"/search-lab/zh/docs/search-operators/text#synonyms-å±æ€§","content":" synonyms å±æ€§å…è®¸æ‚¨æŒ‡å®šå°†åœ¨æœç´¢ä¸­ä½¿ç”¨çš„åŒä¹‰è¯æ˜ å°„ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æœç´¢ carï¼Œæ‚¨å¯èƒ½ä¹Ÿæƒ³æ‰¾åˆ°åŒ…å« automobile è¿™ä¸ªè¯çš„æ–‡æ¡£ã€‚æ‚¨å¯ä»¥åœ¨ç´¢å¼•é…ç½®ä¸­æŒ‡å®šåŒä¹‰è¯æ˜ å°„ï¼Œç„¶ååœ¨æœç´¢æŸ¥è¯¢ä¸­ä½¿ç”¨ synonyms å±æ€§æ¥ä½¿ç”¨è¯¥æ˜ å°„ã€‚ ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ğŸ¯ æ€»ç»“","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/summary","content":"ğŸ¯ æ€»ç»“ æ­å–œä½ ï¼é€šè¿‡æœ¬æ•™ç¨‹ï¼Œä½ å·²ç»æˆåŠŸåœ°ï¼š äº†è§£äº†ä»€ä¹ˆæ˜¯å…¨æ–‡æœç´¢å’Œ Atlas Searchå°†å…¨æ–‡æœç´¢æ·»åŠ åˆ°ä½ çš„åº”ç”¨ä¸­å°†è¯­ä¹‰æœç´¢æ·»åŠ åˆ°ä½ çš„åº”ç”¨ä¸­ è®¿é—® MongoDB å¼€å‘è€…ä¸­å¿ƒ è·å–æ›´å¤šæœ‰ç”¨çš„ä¿¡æ¯å’Œæ•™ç¨‹ã€‚","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"ğŸ‘ æµ‹è¯•æœç´¢ç´¢å¼•","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/search/test-search","content":"","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"æœç´¢æµ‹è¯•å™¨â€‹","type":1,"pageTitle":"ğŸ‘ æµ‹è¯•æœç´¢ç´¢å¼•","url":"/search-lab/zh/docs/search/test-search#æœç´¢æµ‹è¯•å™¨","content":" ä½¿ç”¨ä¸Šé¢çš„ QUERY æŒ‰é’®ï¼Œä½ å°†æ‰“å¼€ æœç´¢æµ‹è¯•å™¨ã€‚åœ¨å­—æ®µä¸­è¾“å…¥å•è¯ï¼š  cooking   ç„¶åæŸ¥çœ‹ä½ å¾—åˆ°çš„ç»“æœã€‚    ä½ å¯ä»¥çœ‹åˆ°ä½ æœç´¢åˆ°äº†ä¸€ç³»åˆ—ä¹¦ç±ï¼ŒåŒ…æ‹¬ï¼š  Pennsylvania Dutch Cooking: A Mennonite Community CookbookSemi-Homemade Cooking: Quick, Marvelous Meals and Nothing is Made fromâ€¦Cookin' Cajun Cooking School Cookbook - Creole and Cajun Cuisine from â€¦  æ‰€æœ‰è¿™äº›ç»“æœéƒ½åŒ¹é…äº†å•è¯ cookingã€‚è¯·æ³¨æ„ï¼Œå¤§å°å†™å¹¶ä¸é‡è¦ï¼Œå•è¯åœ¨æ ‡é¢˜ä¸­çš„ä½ç½®ä¹Ÿä¸é‡è¦ã€‚æœç´¢ç´¢å¼•è¶³å¤Ÿæ™ºèƒ½ï¼Œèƒ½å¤Ÿåœ¨æ‰€æœ‰è¿™äº›æ ‡é¢˜ä¸­æ‰¾åˆ°å•è¯ cookingã€‚  ç°åœ¨ï¼Œä½ å·²ç»ä¸ºä½ çš„ç”¨æˆ·æä¾›äº†æ›´å¥½çš„æœç´¢ä½“éªŒã€‚  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ä»…æœç´¢æ ‡é¢˜â€‹","type":1,"pageTitle":"ğŸ‘ æµ‹è¯•æœç´¢ç´¢å¼•","url":"/search-lab/zh/docs/search/test-search#ä»…æœç´¢æ ‡é¢˜","content":" è¿™å¾ˆæ£’ã€‚ç„¶è€Œï¼Œè¿™ä¸ªæœç´¢æŸ¥è¯¢æ­£åœ¨æœç´¢æ•´ä¸ªæ–‡æ¡£ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¿™å¯èƒ½å¯¹ä½ æœ‰ç”¨ï¼Œä½†åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½åªæƒ³é™åˆ¶æœç´¢åˆ°ç›¸å…³çš„å­—æ®µã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè®©æˆ‘ä»¬å°†å…¶æ›´æ”¹ä¸ºä»…æœç´¢æ ‡é¢˜ã€‚  åœ¨ æœç´¢æµ‹è¯•å™¨ ä¸­ï¼Œç‚¹å‡»ç»¿è‰² Search æŒ‰é’®æ—è¾¹çš„ ç¼–è¾‘ $search æŸ¥è¯¢ æŒ‰é’®ã€‚  è¿™å°†æ‰“å¼€æŸ¥è¯¢ç¼–è¾‘å™¨ã€‚    è¯·æ³¨æ„ï¼Œpath å±æ€§ç›®å‰æ˜¾ç¤ºä¸º *ã€‚è¿™æ„å‘³ç€å®ƒå°†æœç´¢æ•´ä¸ªæ–‡æ¡£ã€‚å°è¯•å°†æœç´¢æ›´æ”¹ä¸ºä»…æœç´¢ title å­—æ®µã€‚  æç¤º ä½ å¯ä»¥åœ¨ æœç´¢æ–‡æ¡£ ä¸­æ‰¾åˆ°æ›´å¤šå…³äºå¦‚ä½•æ„å»ºæŸ¥è¯¢è·¯å¾„çš„ä¿¡æ¯ã€‚  ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹ç­”æ¡ˆ [ { $search: { index: &quot;fulltextsearch&quot;, text: { query: &quot;cooking&quot;, path: [&quot;title&quot;] } } } ]   ä½ ä¼šçœ‹åˆ°ç›¸åŒçš„ç»“æœï¼Œä½†é¡ºåºä¸åŒã€‚è¿™ä¸ç›¸å…³æ€§æœ‰å…³ï¼Œä½†æˆ‘ä»¬å°†åœ¨åé¢çš„ç« èŠ‚ä¸­è®¨è®ºã€‚ ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ğŸ‘ åˆ›å»ºä¸€ä¸ª Atlas Search ç´¢å¼•","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/search/search-index","content":"","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"åˆ›å»ºç¬¬ä¸€ä¸ª Atlas Search ç´¢å¼•çš„åˆ†æ­¥æŒ‡å—â€‹","type":1,"pageTitle":"ğŸ‘ åˆ›å»ºä¸€ä¸ª Atlas Search ç´¢å¼•","url":"/search-lab/zh/docs/search/search-index#åˆ›å»ºç¬¬ä¸€ä¸ª-atlas-search-ç´¢å¼•çš„åˆ†æ­¥æŒ‡å—","content":" æ‰“å¼€ MongoDB Atlas ä¸­çš„ Database Deployments é¡µé¢ï¼Œç„¶ååœ¨å³ä¸‹è§’é€‰æ‹© Create Indexã€‚    ç‚¹å‡» Create Search Index æŒ‰é’®ã€‚    æ„å»ºæœç´¢ç´¢å¼•çš„ç¬¬ä¸€æ­¥æ˜¯é€‰æ‹©é…ç½®æ–¹æ³•ã€‚ä½ å¯ä»¥ä»ä¸¤ç§é€‰é¡¹ä¸­é€‰æ‹©â€”â€”ä½¿ç”¨ Visual Editor æˆ–ä½¿ç”¨ JSON Editor è‡ªè¡Œç¼–å†™é…ç½®ã€‚è®©æˆ‘ä»¬ä¿æŒé»˜è®¤çš„ Visual Editorã€‚è¦ç»§ç»­ï¼Œè¯·ç‚¹å‡» Nextã€‚    æ¥ä¸‹æ¥ï¼Œä½ éœ€è¦ä¸ºç´¢å¼•é€‰æ‹©ä¸€ä¸ªåç§°å’Œæ•°æ®æºã€‚å°†åç§°æ›´æ”¹ä¸º fulltextsearchï¼Œå¹¶é€‰æ‹©æ•°æ®åº“ library å’Œé›†åˆ booksã€‚    æœ€åä¸€æ­¥å…è®¸ä½ å®¡æŸ¥ç´¢å¼•é…ç½®å¹¶åœ¨éœ€è¦æ—¶è¿›è¡Œæ”¹è¿›ã€‚ä½ è¿˜å¯ä»¥é€šè¿‡ç‚¹å‡» View JSON æŸ¥çœ‹ä»ä½ çš„é…ç½®ç”Ÿæˆçš„ JSONã€‚  { &quot;mappings&quot;: { &quot;dynamic&quot;: true } }   ä¿¡æ¯ è¯¥ç´¢å¼•ä½¿ç”¨åŠ¨æ€å­—æ®µæ˜ å°„ã€‚æˆ‘ä»¬æ²¡æœ‰åœ¨æ–‡æ¡£å’Œæœç´¢ç´¢å¼•ä¹‹é—´é…ç½®ä»»ä½•æ˜ç¡®ï¼ˆé™æ€ï¼‰çš„æ˜ å°„ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ Atlas åˆ›å»ºäº†åŠ¨æ€æ˜ å°„ï¼Œå°†æ–‡æ¡£ä¸­çš„æ•°æ®åŒ¹é…åˆ°ä¸€äº›å¸¸è§å­—æ®µç±»å‹ï¼Œå¦‚ doubleã€stringã€array å’Œ intã€‚ åŠ¨æ€æ˜ å°„åœ¨ä½ åˆšå¼€å§‹ä½¿ç”¨ Atlas Search æˆ–ä½ çš„æ¨¡å¼ç»å¸¸å˜åŒ–æ—¶éå¸¸æœ‰ç”¨ã€‚ç„¶è€Œï¼Œä¸é™æ€æ˜ å°„ç›¸æ¯”ï¼Œå®ƒä»¬å ç”¨æ›´å¤šç©ºé—´ã€‚  ä½ ä¸éœ€è¦æ”¹è¿›æ­¤ç´¢å¼•ã€‚ç»§ç»­ç‚¹å‡» Create Search Indexã€‚    ä½ å°†è¢«é‡å®šå‘åˆ°ä¸€ä¸ªé¡µé¢ï¼Œæ˜¾ç¤ºä½ çš„ Atlas é¡¹ç›®ä¸­ä½¿ç”¨çš„æ‰€æœ‰æœç´¢ç´¢å¼•ã€‚åˆ›å»ºç´¢å¼•å¤§çº¦éœ€è¦ä¸€åˆ†é’Ÿã€‚  ä¿¡æ¯ å½“ä½ çš„æœç´¢ç´¢å¼•çŠ¶æ€å˜ä¸º Active æ—¶ï¼Œä½ å°†èƒ½å¤Ÿçœ‹åˆ°æ›´å¤šå…³äºç´¢å¼•çš„ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œç´¢å¼•çš„æ–‡æ¡£æ•°é‡ã€å­—æ®µæ˜ å°„å’Œç´¢å¼•å¤§å°ã€‚è¿˜è¦æ³¨æ„ï¼Œä½ ä½¿ç”¨çš„æ˜¯å…è´¹ M0 æ•°æ®åº“é™„å¸¦çš„ 3 ä¸ªå…è´¹æœç´¢ç´¢å¼•ä¸­çš„ 1 ä¸ªé¢åº¦ã€‚    å½“ä½ çœ‹åˆ°æ–°ç´¢å¼•åœ¨åˆ—è¡¨ä¸­æ˜¾ç¤ºä¸º Active æ—¶ï¼Œä½ å¯ä»¥ç»§ç»­ä¸‹ä¸€æ­¥ã€‚ ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ğŸ‘ åˆ›å»ºå‘é‡æœç´¢ç´¢å¼•","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/vector-search/create-index","content":"","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"åˆ›å»ºå‘é‡æœç´¢ç´¢å¼•çš„åˆ†æ­¥æŒ‡å—â€‹","type":1,"pageTitle":"ğŸ‘ åˆ›å»ºå‘é‡æœç´¢ç´¢å¼•","url":"/search-lab/zh/docs/vector-search/create-index#åˆ›å»ºå‘é‡æœç´¢ç´¢å¼•çš„åˆ†æ­¥æŒ‡å—","content":" æ‰“å¼€ MongoDB Atlas ä¸­çš„ Database Deployments é¡µé¢ï¼Œå¹¶åœ¨å³ä¸‹è§’é€‰æ‹© Create Indexã€‚    ç‚¹å‡» Create Search Index æŒ‰é’®ã€‚    è¿™æ¬¡ï¼Œä½ å°†ä½¿ç”¨ JSON Editor æ¥åˆ›å»ºç´¢å¼•ã€‚    é€‰æ‹©ä½ çš„æ•°æ®åº“å’Œ books é›†åˆï¼Œå°†ç´¢å¼•åç§°æ›´æ”¹ä¸º vectorsearchï¼Œå¹¶åœ¨ JSON ç¼–è¾‘å™¨ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š  Serverless EndpointOpenAIGoogle Cloud Vertex AI { &quot;fields&quot;:[ { &quot;type&quot;: &quot;vector&quot;, &quot;path&quot;: &quot;embeddings&quot;, &quot;numDimensions&quot;: 1408, &quot;similarity&quot;: &quot;cosine&quot; } ] }   æœ€åä¸€æ­¥å…è®¸ä½ æŸ¥çœ‹ç´¢å¼•é…ç½®å¹¶åœ¨éœ€è¦æ—¶è¿›è¡Œä¼˜åŒ–ã€‚ç»§ç»­ç‚¹å‡» Create Search Indexã€‚ ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ğŸ‘ å°†è¯­ä¹‰æœç´¢æ·»åŠ åˆ°æ‚¨çš„åº”ç”¨ç¨‹åº","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/vector-search/add-to-app","content":"","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"é…ç½®ç¯å¢ƒå˜é‡â€‹","type":1,"pageTitle":"ğŸ‘ å°†è¯­ä¹‰æœç´¢æ·»åŠ åˆ°æ‚¨çš„åº”ç”¨ç¨‹åº","url":"/search-lab/zh/docs/vector-search/add-to-app#é…ç½®ç¯å¢ƒå˜é‡","content":" åœ¨æ‚¨çš„ server/.env æ–‡ä»¶ä¸­ï¼Œæ‚¨ä¼šå‘ç°ä¸€äº›å¯ä»¥ç”¨æ¥é…ç½®åº”ç”¨ç¨‹åºçš„å˜é‡ã€‚åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ å‡ ä¸ªå˜é‡ï¼Œä»¥é…ç½®åµŒå…¥æºå’Œ API å¯†é’¥ã€‚  EMBEDDINGS_SOURCE=serverlessEndpoint EMBEDDING_KEY=&lt;API Key&gt;   æç¤º æ‚¨çš„å¯¼å¸ˆå°†ä¸ºæ‚¨æä¾›ä¸€ä¸ª API å¯†é’¥ï¼Œæ‚¨å¯ä»¥åœ¨å‚åŠ çš„æ´»åŠ¨ä¸­ä½¿ç”¨ã€‚å°†å…¶è®¾ç½®åœ¨ EMBEDDING_KEY å˜é‡ä¸­ã€‚  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"é…ç½®å‘é‡æœç´¢æŸ¥è¯¢â€‹","type":1,"pageTitle":"ğŸ‘ å°†è¯­ä¹‰æœç´¢æ·»åŠ åˆ°æ‚¨çš„åº”ç”¨ç¨‹åº","url":"/search-lab/zh/docs/vector-search/add-to-app#é…ç½®å‘é‡æœç´¢æŸ¥è¯¢","content":" å†æ¬¡æ‰“å¼€ server/src/controllers/books.ts æ–‡ä»¶ï¼Œå¹¶ç¼–è¾‘ searchBooks æ–¹æ³•ï¼Œä»¥æŸ¥è¯¢æ‚¨çš„è¯­ä¹‰æœç´¢æ•°æ®ã€‚  æç¤º ä½¿ç”¨ getEmbeddings å‡½æ•°å°†æŸ¥è¯¢è½¬æ¢ä¸ºå‘é‡ã€‚  ç­”æ¡ˆ public async searchBooks(query: string): Promise&lt;Book[]&gt; { const vector = await getEmbeddings(query); const aggregationPipeline = [ { $vectorSearch: { queryVector: vector, path: 'embeddings', numCandidates: 100, index: 'vectorsearch', limit: 100, } } ]; const books = await collections?.books?.aggregate(aggregationPipeline).toArray() as Book[]; return books; }   ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"æµ‹è¯•è¯­ä¹‰æœç´¢â€‹","type":1,"pageTitle":"ğŸ‘ å°†è¯­ä¹‰æœç´¢æ·»åŠ åˆ°æ‚¨çš„åº”ç”¨ç¨‹åº","url":"/search-lab/zh/docs/vector-search/add-to-app#æµ‹è¯•è¯­ä¹‰æœç´¢","content":" è¦åœ¨åº”ç”¨ç¨‹åºä¸­æµ‹è¯•è¯­ä¹‰æœç´¢ï¼Œè¯·å°è¯•æœç´¢ä¸€äº›ä¹¦ç±ï¼Œä½†ä½¿ç”¨ä¸åŒçš„è¯è¯­ï¼Œè¿™äº›è¯è¯­å…·æœ‰ç›¸ä¼¼çš„å«ä¹‰æˆ–ä¸ä¹¦ç±å°é¢ç›¸å…³ã€‚  æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹çŸ­è¯­è¿›è¡ŒæŸ¥è¯¢ï¼š  ç‹—ç‹—åšäº‹æƒ…æ¯›ç»’ç»’çš„åŠ¨ç‰©æ¬§æ´²å†å² ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ä½¿ç”¨ Amazon SageMaker","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/vector-search/create-vectors/ws-sagemaker","content":"","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"å¼€å§‹ä½¿ç”¨ Amazon SageMakerâ€‹","type":1,"pageTitle":"ä½¿ç”¨ Amazon SageMaker","url":"/search-lab/zh/docs/vector-search/create-vectors/ws-sagemaker#å¼€å§‹ä½¿ç”¨-amazon-sagemaker","content":" åªéœ€æŒ‰ç…§è¿™ä¸ªæ•™ç¨‹çš„ç¬¬ 2 éƒ¨åˆ†ä¸­çš„æ­¥éª¤è¿›è¡Œæ“ä½œï¼Œå¹¶å°†å…¶é€‚åº”æˆ‘ä»¬ä¸€ç›´åœ¨ä½¿ç”¨çš„å›¾ä¹¦é¦†ä¿¡æ¯ã€‚  ä½¿ç”¨ Amazon SageMakerã€AWS Lambda å’Œ AWS API Gateway åˆ›å»ºä½ çš„æ¨¡å‹ç«¯ç‚¹ ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ä½¿ç”¨ OpenAI","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/vector-search/create-vectors/openai","content":"","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"åˆ›å»º OpenAI è´¦æˆ·å¹¶è·å– API å¯†é’¥â€‹","type":1,"pageTitle":"ä½¿ç”¨ OpenAI","url":"/search-lab/zh/docs/vector-search/create-vectors/openai#åˆ›å»º-openai-è´¦æˆ·å¹¶è·å–-api-å¯†é’¥","content":" è¦åˆ›å»ºè´¦æˆ·ï¼Œè¯·è®¿é—® https://openai.com/ å¹¶ç‚¹å‡»å³ä¸Šè§’çš„â€œç™»å½•â€æŒ‰é’®ã€‚è¿™å°†é‡å®šå‘æ‚¨åˆ°ç™»å½•é¡µé¢ï¼Œæ‚¨å¯ä»¥é€‰æ‹©æ³¨å†Œä»–ä»¬çš„æœåŠ¡ã€‚    æŒ‰ç…§å±å¹•ä¸Šçš„è¯´æ˜æ“ä½œï¼Œå¹¶éªŒè¯æ‚¨çš„ç”µå­é‚®ä»¶åœ°å€ã€‚  ä¸€æ—¦æ‚¨æœ‰äº†è´¦æˆ·ï¼Œå°±å¯ä»¥è½¬åˆ° API å¯†é’¥é¡µé¢ è·å– API å¯†é’¥ã€‚  åœ¨é‚£é‡Œï¼Œç‚¹å‡» åˆ›å»ºæ–°å¯†é’¥ æŒ‰é’®ã€‚    æ‚¨å°†è¢«æç¤ºç»™æ‚¨çš„å¯†é’¥å‘½åã€‚æ‚¨å¯ä»¥å°†å…¶ç§°ä¸ºâ€œMongoDB å‘é‡æœç´¢æ¼”ç¤ºâ€ã€‚ç„¶åç‚¹å‡» åˆ›å»ºå¯†é’¥ æŒ‰é’®ã€‚  ç„¶åä¼šæ˜¾ç¤ºæ‚¨çš„ API å¯†é’¥ã€‚å¤åˆ¶å®ƒå¹¶ä¿å­˜åœ¨å®‰å…¨çš„åœ°æ–¹ã€‚    è­¦å‘Š è¯·ç¡®ä¿æ‚¨å°†æ­¤å¯†é’¥å¤åˆ¶åˆ°æŸä¸ªåœ°æ–¹ä»¥ä¾¿ç¨åä½¿ç”¨ï¼Œä¹‹åæ‚¨å°†æ— æ³•å†æ¬¡çœ‹åˆ°å®ƒã€‚  ç°åœ¨æ‚¨æœ‰äº† API å¯†é’¥ï¼Œå¯ä»¥ç”¨å®ƒä¸ºæ‚¨çš„æ–‡æ¡£åˆ›å»ºåµŒå…¥ã€‚  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ä¸ºæ–‡æ¡£åˆ›å»ºåµŒå…¥â€‹","type":1,"pageTitle":"ä½¿ç”¨ OpenAI","url":"/search-lab/zh/docs/vector-search/create-vectors/openai#ä¸ºæ–‡æ¡£åˆ›å»ºåµŒå…¥","content":" è¦é€šè¿‡å‘é€ curl å‘½ä»¤åˆ° OpenAI API ä¸ºæ‚¨çš„æ–‡æ¡£åˆ›å»ºåµŒå…¥ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ã€‚  OPENAI_API_KEY=&lt;YOUR_API_KEY&gt; curl https://api.openai.com/v1/embeddings \\ -H &quot;Authorization: Bearer $OPENAI_API_KEY&quot; \\ -H &quot;Content-Type: application/json&quot; \\ -d '{ &quot;input&quot;: &quot;The food was delicious and the waiter...&quot;, &quot;model&quot;: &quot;text-embedding-ada-002&quot; }'   æ‚¨å¯ä»¥åœ¨ OpenAI æ–‡æ¡£ ä¸­æ‰¾åˆ°æœ‰å…³è¯¥ API çš„æ›´å¤šä¿¡æ¯ã€‚  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ä¸ºä¹¦ç±åˆ›å»ºåµŒå…¥â€‹","type":1,"pageTitle":"ä½¿ç”¨ OpenAI","url":"/search-lab/zh/docs/vector-search/create-vectors/openai#ä¸ºä¹¦ç±åˆ›å»ºåµŒå…¥","content":" è¦ä¸ºæ‚¨çš„é›†åˆä¸­çš„ä¹¦ç±åˆ›å»ºåµŒå…¥ï¼Œæ‚¨åº”è¯¥ä¸ºæ¯æœ¬ä¹¦è¿è¡Œæ­¤ curl å‘½ä»¤ï¼Œæˆ–ä½¿ç”¨ Node.js åº“ã€‚è¿™ä¸ªè¿‡ç¨‹æœ‰ç‚¹è€—æ—¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å·²ç»ä¸ºæ‚¨åˆ›å»ºäº†å®ƒä»¬ã€‚  æ‚¨å¯ä»¥åœ¨ä¹¦ç±çš„ embeddings å­—æ®µä¸­æ‰¾åˆ° 1586 ç»´åº¦çš„å‘é‡ã€‚  å› ä¸ºæˆ‘ä»¬å·²ç»æœ‰äº†ä¹¦ç±çš„å‘é‡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨å®ƒä»¬è¿›è¡Œå‘é‡æœç´¢ã€‚  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ä½¿ç”¨å‘é‡è¿›è¡ŒæŸ¥è¯¢â€‹","type":1,"pageTitle":"ä½¿ç”¨ OpenAI","url":"/search-lab/zh/docs/vector-search/create-vectors/openai#ä½¿ç”¨å‘é‡è¿›è¡ŒæŸ¥è¯¢","content":" è¦æŸ¥è¯¢æ•°æ®ï¼Œå‘é‡æœç´¢éœ€è¦è®¡ç®—æŸ¥è¯¢å‘é‡ä¸é›†åˆä¸­æ–‡æ¡£å‘é‡ä¹‹é—´çš„è·ç¦»ã€‚  ä¸ºæ­¤ï¼Œæ‚¨éœ€è¦å‘é‡åŒ–æ‚¨çš„æŸ¥è¯¢ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ç›¸åŒçš„å‡½æ•°æ¥å‘é‡åŒ–æ‚¨çš„æŸ¥è¯¢ã€‚  åœ¨å›¾ä¹¦é¦†åº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå‡½æ•°æ¥ä¸ºæ‚¨å‘é‡åŒ–æŸ¥è¯¢ã€‚æ‚¨å¯ä»¥åœ¨ server/src/embeddings/openai.ts æ–‡ä»¶ä¸­æ‰¾åˆ°å®ƒã€‚  import OpenAI from 'openai'; const { EMBEDDING_KEY } = process.env; let openai; const getTermEmbeddings = async (text) =&gt; { if (!openai) { openai = new OpenAI({apiKey: EMBEDDING_KEY}); } const embeddings = await openai.embeddings.create({ model: 'text-embedding-ada-002', input: text, }); return embeddings?.data[0]?.embedding; }; export default getTermEmbeddings;   ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"é…ç½®åº”ç”¨ç¨‹åºâ€‹","type":1,"pageTitle":"ä½¿ç”¨ OpenAI","url":"/search-lab/zh/docs/vector-search/create-vectors/openai#é…ç½®åº”ç”¨ç¨‹åº","content":" åœ¨ server/.env æ–‡ä»¶ä¸­ï¼Œæ‚¨ä¼šæ‰¾åˆ°ä¸€äº›å˜é‡ï¼Œå¯ä»¥ç”¨æ¥é…ç½®åº”ç”¨ç¨‹åºã€‚  ç¬¬ä¸€ä¸ªæ˜¯ EMBEDDINGS_SOURCEã€‚å®ƒå‘Šè¯‰åº”ç”¨ç¨‹åºä»å“ªé‡Œè·å–åµŒå…¥ã€‚æ‚¨å¯ä»¥å°†å…¶è®¾ç½®ä¸º openaiã€‚  ç°åœ¨æ‚¨æœ‰äº† OpenAI API å¯†é’¥ï¼Œå¯ä»¥å°† ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ğŸ“˜ å®ç°å‘é‡æœç´¢","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/vector-search/implementing-vector-search","content":"","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"å‘é‡åŒ–ä½ çš„æ•°æ®é›†â€‹","type":1,"pageTitle":"ğŸ“˜ å®ç°å‘é‡æœç´¢","url":"/search-lab/zh/docs/vector-search/implementing-vector-search#å‘é‡åŒ–ä½ çš„æ•°æ®é›†","content":" é¦–å…ˆï¼Œä½ éœ€è¦åˆ›å»ºæ•°æ®çš„æ•°å­¦è¡¨ç¤ºã€‚è¿™ç§°ä¸ºå‘é‡åŒ–ã€‚åœ¨â€œåˆ›å»ºå‘é‡â€éƒ¨åˆ†ï¼Œä½ å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨ä¸€äº›ä¸»è¦çš„ç¼–ç å™¨åˆ›å»ºå‘é‡ã€‚  ç„¶è€Œï¼Œåœ¨æœ¬æ¬¡ç ”è®¨ä¼šçš„èƒŒæ™¯ä¸‹ï¼Œæˆ‘ä»¬å·²ç»ä¸ºä½ å®Œæˆäº†è¿™é¡¹å·¥ä½œã€‚ä½ å¯ä»¥ä½¿ç”¨ä¹‹å‰ä½¿ç”¨çš„å¯¼å…¥å·¥å…·æ¥å¯¼å…¥å¸¦æœ‰åµŒå…¥çš„æ•°æ®ã€‚  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"å‘é‡åŒ–ä½ çš„æŸ¥è¯¢â€‹","type":1,"pageTitle":"ğŸ“˜ å®ç°å‘é‡æœç´¢","url":"/search-lab/zh/docs/vector-search/implementing-vector-search#å‘é‡åŒ–ä½ çš„æŸ¥è¯¢","content":" ç¬¬äºŒä¸ªéƒ¨åˆ†æ˜¯å‘é‡åŒ–ä½ çš„æŸ¥è¯¢ã€‚è¿™ä¸å‘é‡åŒ–æ•°æ®é›†çš„è¿‡ç¨‹ç›¸åŒï¼Œä½†ä¸æ˜¯å‘é‡åŒ–ä¸€ä¸ªå¤§æ•°æ®é›†ï¼Œè€Œæ˜¯å‘é‡åŒ–ä¸€ä¸ªå•ä¸€çš„æŸ¥è¯¢ã€‚  é‡è¦çš„æ˜¯è¦å¯¹ä½ çš„æ•°æ®é›†å’ŒæŸ¥è¯¢ä½¿ç”¨ç›¸åŒçš„ç¼–ç å™¨ã€‚è¿™æ˜¯å› ä¸ºç¼–ç å™¨å­¦ä¹ äº†ä¸€ç§ç‰¹å®šçš„æ–¹å¼æ¥è¡¨ç¤ºæ•°æ®ã€‚å¦‚æœä½ ä½¿ç”¨ä¸åŒçš„ç¼–ç å™¨ï¼Œå‘é‡ä¼šä¸åŒï¼Œæœç´¢å°†æ— æ³•æ­£å¸¸å·¥ä½œã€‚  åœ¨æœ¬æ¬¡ç ”è®¨ä¼šä¸­ï¼Œä½ å°†ä½¿ç”¨æä¾›çš„å‡½æ•°ä¹‹ä¸€æ¥å‘é‡åŒ–ä½ çš„æŸ¥è¯¢ã€‚åŒæ ·ï¼Œè‡ªå·±å®ç°è¿™éƒ¨åˆ†ä»£ç çš„å®Œæ•´å†…å®¹åœ¨â€œåˆ›å»ºå‘é‡â€éƒ¨åˆ†ä¸­ã€‚ ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ğŸ“˜ è¯­ä¹‰æœç´¢","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/vector-search/semantic-search","content":"","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"ä»€ä¹ˆæ˜¯è¯­ä¹‰æœç´¢ï¼Ÿâ€‹","type":1,"pageTitle":"ğŸ“˜ è¯­ä¹‰æœç´¢","url":"/search-lab/zh/docs/vector-search/semantic-search#ä»€ä¹ˆæ˜¯è¯­ä¹‰æœç´¢","content":" è¯­ä¹‰æœç´¢æ˜¯ä¸€ç§ä½¿ç”¨è¯è¯­å«ä¹‰æ¥æŸ¥æ‰¾ç›¸å…³ç»“æœçš„æœç´¢æŠ€æœ¯ã€‚å®ƒæ˜¯æ¨åŠ¨æˆ‘ä»¬ç°åœ¨çœ‹åˆ°çš„å¤§è¯­è¨€æ¨¡å‹çš„åŠ¨åŠ›ã€‚  ä½¿ç”¨è¯­ä¹‰æœç´¢ï¼Œå³ä½¿æœç´¢è¯ä¸å‡ºç°åœ¨ç»“æœä¸­ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½æ‰¾åˆ°ç›¸å…³ç»“æœã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æœç´¢â€œå¦‚ä½•åšè›‹ç³•â€ï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°åŒ…å«â€œå¦‚ä½•çƒ¤è›‹ç³•â€æˆ–â€œå¦‚ä½•åšé¦…é¥¼â€è¯è¯­çš„ç»“æœã€‚  è¿™æ˜¯é€šè¿‡å‘é‡å®Œæˆçš„ã€‚å‘é‡æ˜¯è¯è¯­çš„æ•°å­¦è¡¨ç¤ºã€‚å®ƒä»¬ç”¨äºæ‰¾åˆ°è¯è¯­ä¹‹é—´çš„ç›¸ä¼¼æ€§ã€‚ä¾‹å¦‚ï¼Œâ€œè›‹ç³•â€è¿™ä¸ªè¯ä¸â€œé¦…é¥¼â€è¿™ä¸ªè¯ç›¸ä¼¼ï¼Œå› ä¸ºå®ƒä»¬éƒ½æ˜¯ç”œç‚¹ã€‚  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"å¦‚ä½•åˆ›å»ºè¯­ä¹‰æœç´¢å¼•æ“â€‹","type":1,"pageTitle":"ğŸ“˜ è¯­ä¹‰æœç´¢","url":"/search-lab/zh/docs/vector-search/semantic-search#å¦‚ä½•åˆ›å»ºè¯­ä¹‰æœç´¢å¼•æ“","content":" åœ¨æˆ‘ä»¬çš„å›¾ä¹¦é¦†åº”ç”¨ç¨‹åºä¸­ï¼Œè®©æˆ‘ä»¬æ”¹å˜æœç´¢æ çš„å·¥ä½œæ–¹å¼ã€‚è¯•ç€æ”¹å˜æœç´¢æ çš„è¡Œä¸ºï¼Œæ ¹æ®ä¹¦ç±çš„å«ä¹‰è€Œä¸ä»…ä»…æ˜¯è¯è¯­æœ¬èº«æ¥æŸ¥æ‰¾ä¹¦ç±ã€‚  è¿™å°†å¸®åŠ©æˆ‘ä»¬åœ¨æœç´¢â€œç˜Ÿç–«æœ«æ—¥â€æ—¶æ‰¾åˆ°ã€ŠThe Standï¼ˆæœ«æ—¥é€¼è¿‘ï¼‰ã€‹è¿™æœ¬ä¹¦ã€‚ï¼ˆç”¨ä¸­æ–‡æœç´¢åŒæ ·èƒ½æœåˆ°è‹±æ–‡ç›¸å…³ä¹¦ç±ï¼‰  å³ä½¿è¿™äº›è¯ä¸å‡ºç°åœ¨ä¹¦åæˆ–æè¿°ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¸Œæœ›èƒ½å¤Ÿæ‰¾åˆ°å®ƒä»¬ã€‚  ä½ å¯ä»¥ä½¿ç”¨ç±»ä¼¼çš„æ–¹æ³•ä¸ºä½ çš„å®¢æˆ·æä¾›ä¸ä»–ä»¬æ­£åœ¨æŸ¥çœ‹çš„é¡¹ç›®ç›¸ä¼¼çš„é¡¹ç›®ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå®¢æˆ·æ­£åœ¨æŸ¥çœ‹ä¸€åŒç™»å±±é´ï¼Œä½ å¯ä»¥å‘ä»–ä»¬å±•ç¤ºä»–ä»¬å¯èƒ½éœ€è¦çš„å…¶ä»–è£…å¤‡ã€‚  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"MongoDB åœ¨å“ªé‡Œå‘æŒ¥ä½œç”¨ï¼Ÿâ€‹","type":1,"pageTitle":"ğŸ“˜ è¯­ä¹‰æœç´¢","url":"/search-lab/zh/docs/vector-search/semantic-search#mongodb-åœ¨å“ªé‡Œå‘æŒ¥ä½œç”¨","content":" å‡­å€Ÿå…¶æ–‡æ¡£æ¨¡å‹ï¼ŒMongoDB éå¸¸é€‚åˆå­˜å‚¨å‘é‡ã€‚ä½ å¯ä»¥å°†å‘é‡ä½œä¸ºæ•°å­—æ•°ç»„å­˜å‚¨åœ¨æ–‡æ¡£ä¸­ã€‚  å½“éœ€è¦æœç´¢ç›¸å…³ç»“æœæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åƒè¿›è¡Œå…¨æ–‡æœç´¢ä¸€æ ·ï¼Œåˆ©ç”¨ Lucene çš„å¼ºå¤§åŠŸèƒ½ã€‚ ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ğŸ¦¸â€â™‚ï¸ é¢„è¿‡æ»¤æ•°æ®","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/vector-search/filtering","content":"","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"ä½¿ç”¨æ•°å€¼å­—æ®µè¿›è¡Œé¢„è¿‡æ»¤â€‹","type":1,"pageTitle":"ğŸ¦¸â€â™‚ï¸ é¢„è¿‡æ»¤æ•°æ®","url":"/search-lab/zh/docs/vector-search/filtering#ä½¿ç”¨æ•°å€¼å­—æ®µè¿›è¡Œé¢„è¿‡æ»¤","content":" å¦‚æœæˆ‘ä»¬æƒ³é¢„å…ˆè¿‡æ»¤æ‰€æœ‰ 2001 å¹´çš„ä¹¦ç±ï¼Œå¯ä»¥å°è¯•ä»¥ä¸‹ï¼ˆä½†ç›®å‰ä¸ä¼šç”Ÿæ•ˆï¼‰ï¼š  [ {$vectorSearch: { queryVector: vector, path: &quot;embeddings&quot;, numCandidates: 100, index: &quot;vectorsearch&quot;, limit: 100, filter: {year: {$eq: 2001}} } } ]   ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ä½¿ç”¨å­—ç¬¦ä¸²å­—æ®µè¿›è¡Œé¢„è¿‡æ»¤â€‹","type":1,"pageTitle":"ğŸ¦¸â€â™‚ï¸ é¢„è¿‡æ»¤æ•°æ®","url":"/search-lab/zh/docs/vector-search/filtering#ä½¿ç”¨å­—ç¬¦ä¸²å­—æ®µè¿›è¡Œé¢„è¿‡æ»¤","content":" æˆ‘ä»¬å¯ä»¥å°è¯•ä»¥ä¸‹ï¼ŒåŒæ ·ä¸ä¼šç”Ÿæ•ˆï¼š  [ {$vectorSearch: { queryVector: vector, path: &quot;embeddings&quot;, numCandidates: 100, index: &quot;vectorsearch&quot;, limit: 100, filter: {language: {$eq: &quot;es&quot;}} } } ]   é—®é¢˜å‡ºåœ¨ vectorsearch ç´¢å¼•ï¼Œè€Œä¸æ˜¯è¿™æ®µä»£ç ã€‚è¦å¯¹å­—ç¬¦ä¸²å­—æ®µè¿›è¡Œé¢„è¿‡æ»¤ï¼Œéœ€è¦åœ¨æˆ‘ä»¬çš„æœç´¢ç´¢å¼•å®šä¹‰ä¸­æ·»åŠ å¯¹è¿™äº›å­—æ®µçš„æ˜ å°„ã€‚ä¸ºæ­¤ï¼Œè¿›å…¥ MongoDB Atlasï¼Œè¿›å…¥ä½ çš„é›†åˆå¹¶å†æ¬¡æ‰“å¼€æœç´¢ç´¢å¼•é€‰é¡¹å¡ï¼Œæ­£å¦‚ä½ åœ¨ åˆ›å»ºç´¢å¼• æ—¶æ‰€åšçš„é‚£æ ·ã€‚  åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å·²ç»æœ‰äº†ç´¢å¼•ï¼Œæˆ‘ä»¬å°†è¦åœ¨ JSON ç¼–è¾‘å™¨ä¸­ç¼–è¾‘å®ƒã€‚åªéœ€åœ¨ç´¢å¼•ä¸­æ·»åŠ  year å­—æ®µå’Œ language å­—æ®µçš„æ˜ å°„ã€‚ç´¢å¼•åº”å¦‚ä¸‹æ‰€ç¤ºï¼š  { &quot;fields&quot;: [ { &quot;type&quot;: &quot;vector&quot;, &quot;path&quot;: &quot;embeddings&quot;, &quot;numDimensions&quot;: 1536, &quot;similarity&quot;: &quot;cosine&quot; }, { &quot;type&quot;: &quot;filter&quot;, &quot;path&quot;: &quot;year&quot; }, { &quot;type&quot;: &quot;filter&quot;, &quot;path&quot;: &quot;language&quot; } ] }   å”¯ä¸€çš„åŒºåˆ«æ˜¯æˆ‘ä»¬æ·»åŠ äº†ä»¥ä¸‹éƒ¨åˆ†ï¼Œå£°æ˜ year å’Œ language åº”ä½œä¸º filter è¿›è¡Œç´¢å¼•ã€‚   { &quot;type&quot;: &quot;filter&quot;, &quot;path&quot;: &quot;year&quot; }, { &quot;type&quot;: &quot;filter&quot;, &quot;path&quot;: &quot;language&quot; }   åœ¨ä»£ç ä¸­æ·»åŠ æ–°çš„èšåˆç®¡é“ï¼ˆserver/src/controllers/books.ts ä¸­ç†Ÿæ‚‰çš„ searchBooks æ–¹æ³•ï¼‰ï¼Œè¿›è¡Œæœç´¢æ—¶ï¼Œä½ ä¼šå¾—åˆ°ç”¨è¥¿ç­ç‰™è¯­ç¼–å†™çš„è¯­ä¹‰ç»“æœã€‚ ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ä½¿ç”¨ Google Cloud Vertex AI","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/vector-search/create-vectors/google-vertex","content":"","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"åˆ›å»º Google Cloud è´¦å·â€‹","type":1,"pageTitle":"ä½¿ç”¨ Google Cloud Vertex AI","url":"/search-lab/zh/docs/vector-search/create-vectors/google-vertex#åˆ›å»º-google-cloud-è´¦å·","content":" ç¬¬ä¸€æ­¥æ˜¯åˆ›å»ºä¸€ä¸ª Google Cloud è´¦å·ã€‚ä½¿ç”¨ä»¥ä¸‹é“¾æ¥å¼€å§‹å¹¶è·å¾—ä¸€äº›å…è´¹ç§¯åˆ†ã€‚  æ³¨å†Œ Google Cloud è´¦å·  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"åˆ›å»ºæ–°é¡¹ç›®â€‹","type":1,"pageTitle":"ä½¿ç”¨ Google Cloud Vertex AI","url":"/search-lab/zh/docs/vector-search/create-vectors/google-vertex#åˆ›å»ºæ–°é¡¹ç›®","content":" åœ¨æ¬¢è¿å±å¹•ä¸Šï¼Œåˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ã€‚ä½ å¯ä»¥éšæ„å‘½åã€‚  ç¡®ä¿é€‰æ‹©ä¸€ä¸ªæ´»è·ƒçš„ç»“ç®—è´¦æˆ·ã€‚    å¡«å†™å®Œå­—æ®µåï¼Œç‚¹å‡» åˆ›å»º æŒ‰é’®ã€‚  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"æ‰“å¼€ Cloud Shellâ€‹","type":1,"pageTitle":"ä½¿ç”¨ Google Cloud Vertex AI","url":"/search-lab/zh/docs/vector-search/create-vectors/google-vertex#æ‰“å¼€-cloud-shell","content":" é¡¹ç›®åˆ›å»ºå®Œæˆåï¼Œåœ¨å±å¹•å³ä¸Šè§’å¯»æ‰¾ æ¿€æ´» Cloud Shell æŒ‰é’®ã€‚    è¿™å°†åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ä¸€ä¸ªç±»ä¼¼ç»ˆç«¯çš„çª—å£ã€‚è¿™æ˜¯ä¸€ä¸ªå®Œå…¨åŠŸèƒ½çš„ç»ˆç«¯ï¼Œè¿æ¥åˆ°äº‘ä¸­çš„è™šæ‹Ÿæœºã€‚ä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªç»ˆç«¯åœ¨è™šæ‹Ÿæœºä¸Šè¿è¡Œå‘½ä»¤ã€‚  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"å¯ç”¨ AI Platform APIâ€‹","type":1,"pageTitle":"ä½¿ç”¨ Google Cloud Vertex AI","url":"/search-lab/zh/docs/vector-search/create-vectors/google-vertex#å¯ç”¨-ai-platform-api","content":" ä½ éœ€è¦ä¸ºé¡¹ç›®å¯ç”¨ AI Platform APIã€‚ä½ å¯ä»¥é€šè¿‡åœ¨ Cloud Shell ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®ç°ã€‚  gcloud services enable aiplatform.googleapis.com   ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"åˆ›å»ºè®¤è¯æ–‡ä»¶â€‹","type":1,"pageTitle":"ä½¿ç”¨ Google Cloud Vertex AI","url":"/search-lab/zh/docs/vector-search/create-vectors/google-vertex#åˆ›å»ºè®¤è¯æ–‡ä»¶","content":" è¦ä½¿ç”¨ AI Platform API è¿›è¡Œèº«ä»½éªŒè¯ï¼Œä½ éœ€è¦åˆ›å»ºä¸€ä¸ªåŒ…å«åº”ç”¨å‡­æ®çš„æ–‡ä»¶ã€‚ä½ å¯ä»¥é€šè¿‡åœ¨ Cloud Shell ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®ç°ã€‚  gcloud auth application-default login   æŒ‰ç…§ç»ˆç«¯ä¸­çš„æŒ‡ç¤ºä½¿ç”¨ Google Cloud è´¦å·è¿›è¡Œèº«ä»½éªŒè¯ã€‚èº«ä»½éªŒè¯å®Œæˆåï¼Œä½ ä¼šçœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„ä¿¡æ¯ã€‚  Credentials saved to file: [/tmp/tmp.n0HdRFDDv8/application_default_credentials.json]   å°†å‡­æ®æ–‡ä»¶ä¿å­˜åˆ°ä½ çš„ä¸»ç›®å½•ã€‚  mv /tmp/tmp.n0HdRFDDv8/application_default_credentials.json ~/credentials.json   ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"åˆ›å»ºä¸€äº›æ–‡æœ¬çš„åµŒå…¥â€‹","type":1,"pageTitle":"ä½¿ç”¨ Google Cloud Vertex AI","url":"/search-lab/zh/docs/vector-search/create-vectors/google-vertex#åˆ›å»ºä¸€äº›æ–‡æœ¬çš„åµŒå…¥","content":" ä¸ºäº†åˆ›å»ºä¸€äº›æ–‡æœ¬çš„åµŒå…¥ï¼Œä½ å°†é¦–å…ˆåˆ›å»ºä¸€ä¸ª request.json æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶å°†åŒ…å«ä½ è¦è½¬æ¢ä¸ºåµŒå…¥çš„æ–‡æœ¬ã€‚åœ¨ Cloud Shell ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥åˆ›å»ºè¿™ä¸ªæ–‡ä»¶ã€‚  echo '{ &quot;instances&quot;: [ { &quot;text&quot;: &quot;picture of a cat&quot; } ] }' &gt;&gt; request.json   ç°åœ¨è¿è¡Œä»¥ä¸‹ curl å‘½ä»¤ä»¥è·å–æ–‡æœ¬çš„åµŒå…¥ã€‚  curl -X POST \\ -H &quot;Authorization: Bearer $(gcloud auth print-access-token)&quot; \\ -H &quot;Content-Type: application/json; charset=utf-8&quot; \\ -d @request.json \\ &quot;https://us-central1-aiplatform.googleapis.com/v1/projects/$PROJECT_ID/locations/us-central1/publishers/google/models/multimodalembedding@001:predict&quot;   ç¡®ä¿å°† $PROJECT_ID å˜é‡æ›´æ”¹ä¸ºä½ çš„é¡¹ç›® IDã€‚  ä½ å°†æ”¶åˆ°ç±»ä¼¼ä»¥ä¸‹çš„å“åº”  { &quot;predictions&quot;: [ { &quot;textEmbedding&quot;: [ -0.00566103263, 0.0202014241, -0.00677233562, 0.0180264488, 0.0265100803, ... 0.00116232142, 0.0134601779, -0.00257002981 ] } ], &quot;deployedModelId&quot;: &quot;5595742328217141248&quot; }   ä½ ä¼šæ³¨æ„åˆ° textEmbeddings å­—æ®µåŒ…å«ä¸€ä¸ª 1408 ä¸ªæ•°å­—çš„æ•°ç»„ã€‚è¿™äº›æ˜¯ä½ æä¾›çš„æ–‡æœ¬çš„åµŒå…¥ã€‚  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ä¸ºä¹¦ç±åˆ›å»ºåµŒå…¥â€‹","type":1,"pageTitle":"ä½¿ç”¨ Google Cloud Vertex AI","url":"/search-lab/zh/docs/vector-search/create-vectors/google-vertex#ä¸ºä¹¦ç±åˆ›å»ºåµŒå…¥","content":" ä¸ºäº†ä¸ºä½ çš„ä¹¦ç±é›†åˆåˆ›å»ºåµŒå…¥ï¼Œä½ åº”è¯¥ä¸ºæ¯æœ¬ä¹¦è¿è¡Œè¿™ä¸ª curl å‘½ä»¤ã€‚è¿™ä¸ªè¿‡ç¨‹æœ‰ç‚¹è€—æ—¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å·²ç»ä¸ºä½ åˆ›å»ºå¥½äº†ã€‚  ä½ å¯ä»¥åœ¨å¯¼å…¥çš„æ–°ä¹¦ç±é›†åˆçš„ embeddings å­—æ®µä¸­æ‰¾åˆ° 1408 ç»´çš„å‘é‡ã€‚  å› ä¸ºæˆ‘ä»¬å·²ç»æœ‰äº†è¿™äº›ä¹¦ç±çš„å‘é‡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒä»¬è¿›è¡Œå‘é‡æœç´¢ã€‚  ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ä½¿ç”¨å‘é‡è¿›è¡ŒæŸ¥è¯¢â€‹","type":1,"pageTitle":"ä½¿ç”¨ Google Cloud Vertex AI","url":"/search-lab/zh/docs/vector-search/create-vectors/google-vertex#ä½¿ç”¨å‘é‡è¿›è¡ŒæŸ¥è¯¢","content":" ä¸ºäº†æŸ¥è¯¢æ•°æ®ï¼Œå‘é‡æœç´¢éœ€è¦è®¡ç®—æŸ¥è¯¢å‘é‡ä¸é›†åˆä¸­æ–‡æ¡£å‘é‡ä¹‹é—´çš„è·ç¦»ã€‚  ä¸ºæ­¤ï¼Œä½ éœ€è¦å°†æŸ¥è¯¢å‘é‡åŒ–ã€‚ä½ å¯ä»¥ä½¿ç”¨ç›¸åŒçš„å‡½æ•°æ¥å‘é‡åŒ–ä½ çš„æŸ¥è¯¢ã€‚  åœ¨å›¾ä¹¦é¦†åº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬å·²ç»åˆ›å»ºäº†ä¸€ä¸ªå‡½æ•°æ¥ä¸ºä½ å‘é‡åŒ–æŸ¥è¯¢ã€‚ä½ å¯ä»¥åœ¨ server/embeddings/googleVertex.mjs æ–‡ä»¶ä¸­æ‰¾åˆ°å®ƒã€‚  import aiplatform from '@google-cloud/aiplatform'; const project = process.env.PROJECT_ID; const location = process.env.PROJECT_LOCATION; const {PredictionServiceClient} = aiplatform.v1; const {helpers} = aiplatform; const predictionServiceClient = new PredictionServiceClient({ apiEndpoint: 'us-central1-aiplatform.googleapis.com' }); const getTermEmbeddings = async (text) =&gt; { const publisher = &quot;google&quot;; const model = 'multimodalembedding@001'; // é…ç½®çˆ¶èµ„æº const endpoint = `projects/${project}/locations/${location}/publishers/${publisher}/models/${model}`; const instance = { text }; const instanceValue = helpers.toValue(instance); const instances = [instanceValue]; const request = { endpoint, instances }; // é¢„æµ‹è¯·æ±‚ const [response] = await predictionServiceClient.predict(request); const embeddings = response.predictions[0].structValue.fields.textEmbedding.listValue.values.map(e =&gt; e.numberValue); return embeddings; }; export default getTermEmbeddings;   ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"é…ç½®åº”ç”¨ç¨‹åºâ€‹","type":1,"pageTitle":"ä½¿ç”¨ Google Cloud Vertex AI","url":"/search-lab/zh/docs/vector-search/create-vectors/google-vertex#é…ç½®åº”ç”¨ç¨‹åº","content":" åœ¨ä½ çš„ server/.env æ–‡ä»¶ä¸­ï¼Œä½ ä¼šæ‰¾åˆ°å‡ ä¸ªå˜é‡ï¼Œç”¨äºé…ç½®åº”ç”¨ç¨‹åºã€‚  ç¬¬ä¸€ä¸ªæ˜¯ EMBEDDINGS_SOURCEã€‚å®ƒå‘Šè¯‰åº”ç”¨ç¨‹åºä»å“ªé‡Œè·å–åµŒå…¥ã€‚ä½ å¯ä»¥å°†å…¶è®¾ç½®ä¸º googleVertexã€‚  ç„¶åå°† EMBEDDING_KEY è®¾ç½®ä¸ºä½ çš„ credentials.json æ–‡ä»¶ã€‚  æœ€åï¼Œå°† PROJECT_ID å’Œ PROJECT_LOCATION è®¾ç½®ä¸ºä½ çš„é¡¹ç›®çš„å€¼ã€‚  EMBEDDINGS_SOURCE=googleVertex EMBEDDING_KEY=&quot;./credentials.json&quot; PROJECT_ID=projectphoenix-verteximage PROJECT_LOCATION=us-central1   ä½ çš„åº”ç”¨ç¨‹åºç°åœ¨æœ‰ä¸€ä¸ª getTermEmbeddings å‡½æ•°ï¼Œå®ƒå°†è¿”å›ç»™å®šæ–‡æœ¬çš„åµŒå…¥ã€‚ä½ å¯ä»¥åœ¨ server/src/embeddings/googleVertex.js æ–‡ä»¶ä¸­æŸ¥çœ‹æ­¤æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ã€‚ ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ğŸ“˜ ä»€ä¹ˆæ˜¯å‘é‡ï¼Ÿ","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/vector-search/what-are-vector","content":"","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å‘é‡ï¼Ÿâ€‹","type":1,"pageTitle":"ğŸ“˜ ä»€ä¹ˆæ˜¯å‘é‡ï¼Ÿ","url":"/search-lab/zh/docs/vector-search/what-are-vector#ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å‘é‡","content":" è®¡ç®—æœºä¸èƒ½ç†è§£æ–‡æœ¬ã€‚å®ƒä»¬åªèƒ½ç†è§£æ•°å­—ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ³•å°†æ–‡æœ¬è½¬æ¢ä¸ºæ•°å­—ã€‚è¿™å°±æ˜¯å‘é‡çš„ä½œç”¨ã€‚  ä½¿ç”¨å‘é‡ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å¤šç»´ç©ºé—´ä¸­ç»˜åˆ¶æ–‡æœ¬ã€‚å¾ˆéš¾å¯è§†åŒ–å¤šç»´ç©ºé—´ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬ä»äºŒç»´ç©ºé—´å¼€å§‹ã€‚  æƒ³è±¡ä¸€ä¸ªæœ‰ x å’Œ y è½´çš„å›¾ã€‚æˆ‘ä»¬çš„æœºå™¨å­¦ä¹ æ¨¡å‹å°†åœ¨è¿™ä¸ªå›¾ä¸Šç»˜åˆ¶å„ç§ç‚¹ã€‚è¿™å¯ä»¥è¡¨ç¤ºå•è¯ã€å¥å­ã€æ®µè½ã€æ–‡æ¡£ï¼Œç”šè‡³æ˜¯å›¾åƒã€‚  ç‚¹çš„ç»˜åˆ¶ä½ç½®ç”±ä½ ä½¿ç”¨çš„æ¨¡å‹å†³å®šã€‚æ¨¡å‹å°†ä½ ä¼ é€’çš„æ•°æ®è½¬æ¢ä¸ºå‘é‡ã€‚ç„¶åï¼Œå®ƒå°†å‘é‡ç»˜åˆ¶åœ¨å›¾è¡¨ä¸Šã€‚    åœ¨è¿›è¡Œæœç´¢æ—¶ï¼Œæˆ‘ä»¬å°†ä¸ºæœç´¢è¯åˆ›å»ºä¸€ä¸ªæ–°çš„å‘é‡ã€‚ç„¶åæˆ‘ä»¬å°†åœ¨å›¾è¡¨ä¸Šç»˜åˆ¶è¿™ä¸ªæ–°å‘é‡ã€‚    ç„¶åï¼Œæˆ‘ä»¬å°†æ‰¾åˆ°æœ€æ¥è¿‘æœç´¢è¯çš„å•è¯ã€‚æœ€æ¥è¿‘çš„å•è¯å°†æ˜¯é‚£äº›åœ¨å›¾è¡¨ä¸Šç¦»æœç´¢è¯æœ€è¿‘çš„å•è¯ã€‚  æœ€æ¥è¿‘çš„æœ¯è¯­å°†å–å†³äºä½ ç”¨æ¥è®¡ç®—å‘é‡ä¹‹é—´è·ç¦»çš„ç®—æ³•ã€‚ä½¿ç”¨æ¬§å‡ é‡Œå¾—è·ç¦»ï¼Œæœ€æ¥è¿‘çš„å•è¯å°†æ˜¯é‚£äº›ç¦»æœç´¢è¯æœ€è¿‘çš„å•è¯ã€‚    å‘é‡æœç´¢è¿˜æä¾›ä½™å¼¦ç®—æ³•ã€‚ä½¿ç”¨ä½™å¼¦è·ç¦»ï¼Œæœ€æ¥è¿‘çš„å•è¯å°†æ˜¯é‚£äº›ç¦»æœç´¢è¯æœ€è¿‘ï¼Œä½†æ–¹å‘ç›¸åŒçš„å•è¯ã€‚    ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"æˆ‘ä»¬å¦‚ä½•åˆ›å»ºå‘é‡ï¼Ÿâ€‹","type":1,"pageTitle":"ğŸ“˜ ä»€ä¹ˆæ˜¯å‘é‡ï¼Ÿ","url":"/search-lab/zh/docs/vector-search/what-are-vector#æˆ‘ä»¬å¦‚ä½•åˆ›å»ºå‘é‡","content":" ç”Ÿæˆå¼ AI çš„é‡å¤§çªç ´åœ¨äºå¼€å‘è€…ç°åœ¨å¯ä»¥è½»æ¾ä½¿ç”¨å·²ç»é¢„è®­ç»ƒå¹¶åœ¨çº¿å…è´¹æä¾›çš„æ¨¡å‹ã€‚è¿™äº›æ¨¡å‹ç»è¿‡äº†å¤§é‡æ•°æ®é›†çš„è®­ç»ƒï¼Œèƒ½å¤Ÿå°†æ–‡æœ¬ï¼ˆæˆ–ä»»ä½•ç±»å‹çš„æ•°æ®ï¼‰è½¬æ¢ä¸ºå‘é‡ã€‚  æœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥åˆ›å»ºå‘é‡ã€‚åœ¨æœ¬æ¬¡ç ”è®¨ä¼šä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªé¢„è®­ç»ƒæ¨¡å‹å’Œä¸€ä¸ªå°†ä¸ºæˆ‘ä»¬è¿”å›å‘é‡çš„ APIã€‚ ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"},{"title":"ğŸ‘ å¯¼å…¥å‘é‡åŒ–æ•°æ®","type":0,"sectionRef":"#","url":"/search-lab/zh/docs/vector-search/import-data","content":"","keywords":"","version":"å½“å‰ç‰ˆæœ¬"},{"title":"å¯¼å…¥åµŒå…¥â€‹","type":1,"pageTitle":"ğŸ‘ å¯¼å…¥å‘é‡åŒ–æ•°æ®","url":"/search-lab/zh/docs/vector-search/import-data#å¯¼å…¥åµŒå…¥","content":" è¦å¯¼å…¥å…·æœ‰é¢„åˆ›å»ºåµŒå…¥çš„æ•°æ®é›†ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä¹‹å‰ä½¿ç”¨çš„å¯¼å…¥å·¥å…·ã€‚  åœ¨é¡¶éƒ¨çš„æ–‡æœ¬æ¡†ä¸­è¾“å…¥æ‚¨çš„è¿æ¥å­—ç¬¦ä¸²ï¼Œå¹¶ä»å±å¹•åº•éƒ¨çš„ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©æ‚¨çš„æä¾›è€…ã€‚    æç¤º å¦‚æœä¸ç¡®å®šï¼Œæˆ–è€…ä¸æƒ³åˆ›å»ºè‡ªå·±çš„åµŒå…¥ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ— æœåŠ¡å™¨ç«¯ç‚¹æä¾›è€…ã€‚  é€‰æ‹©æä¾›è€…åï¼Œç‚¹å‡»æ·»åŠ åµŒå…¥æŒ‰é’®ã€‚  æ³¨æ„ æ­¤è¿‡ç¨‹å°†åˆ é™¤æ‚¨ç°æœ‰çš„booksé›†åˆï¼Œå¹¶ä»¥æ–°é›†åˆæ›¿æ¢ã€‚ä»»ä½•ç°æœ‰çš„ç´¢å¼•æˆ–å¯¹é›†åˆçš„æ›´æ”¹å°†ä¸¢å¤±ã€‚  å¯¼å…¥å®Œæˆåï¼Œæ‚¨ä¼šçœ‹åˆ°ç¡®è®¤æ¶ˆæ¯ã€‚ ","version":"å½“å‰ç‰ˆæœ¬","tagName":"h2"}],"options":{"languages":["en","zh"],"id":"default"}}